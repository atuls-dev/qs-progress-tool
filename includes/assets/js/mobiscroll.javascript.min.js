/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).mobiscroll=t()}(this,function(){"use strict";var e,t,s,n,se,i,he,a,r,me,o,_=_||{},l={},ae={},c=[],u="undefined"!=typeof window,w=u&&window.matchMedia&&window.matchMedia("(prefers-color-scheme:dark)").matches,d=u?navigator.userAgent:"",h=u?navigator.platform:"",m=u?navigator.maxTouchPoints:0,f=/Safari/.test(d),p=d.match(/Android|iPhone|iPad|iPod|Windows Phone|Windows|MSIE/i),fe=u&&window.requestAnimationFrame||function(e){return setTimeout(e,20)},pe=u&&window.cancelAnimationFrame||function(e){clearTimeout(e)};function b(e){var t;for(t in e)if(void 0!==i[e[t]])return!0;return!1}function be(e,t){if("touchstart"==e.type)t.__mbscTouched=1;else if(t.__mbscTouched)return delete t.__mbscTouched,!1;return!0}function ve(e,t){for(var s,n,i=["t","webkitT","MozT","OT","msT"],a=getComputedStyle(e[0]),r=0;!s&&r<i.length;)void 0!==a[(n=i[r])+"ransform"]&&(s=a[n+"ransform"]),r++;return s=s.split(")")[0].split(", "),t?s[13]||s[5]:s[12]||s[4]}function ge(e,t,s,n){e&&e.addEventListener(t,s,n)}function ye(e,t,s,n){e&&e.removeEventListener(t,s,n)}function v(e,t){return!(!t||!e||1!==e.nodeType)&&(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector).call(e,t)}function x(e,t,s){for(;t;){if(v(t,s))return t;t=t!==e?t.parentNode:null}return null}function g(e,t,s){var n;try{n=new CustomEvent(t,{detail:s,bubbles:!0,cancelable:!0})}catch(e){(n=document.createEvent("Event")).initEvent(t,!0,!0),n.detail=s}e.dispatchEvent(n)}/Android/i.test(p)?(e="android",(t=d.match(/Android\s+([\d.]+)/i))&&(c=t[0].replace("Android ","").split("."))):/iPhone|iPad|iPod/i.test(p)||/iPhone|iPad|iPod/i.test(h)||"MacIntel"===h&&1<m?(e="ios",(t=d.match(/OS\s+([\d_]+)/i))&&(c=t[0].replace(/_/g,".").replace("OS ","").split("."))):/Windows Phone/i.test(p)?e="wp":/Windows|MSIE/i.test(p)&&(e="windows"),s=c[0],n=c[1],u&&(o=window,document.createElement("canvas"),i=document.createElement("modernizr").style,he=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(b([t[e]+"Transform"]))return"-"+t[e].toLowerCase()+"-";return""}(),me=he.replace(/^-/,"").replace(/-$/,"").replace("moz","Moz"),se=void 0!==i.animation?"animationend":"webkitAnimationEnd",i.transition,r=(a="ios"===e&&!f)&&o.webkit&&o.webkit.messageHandlers,i.touchAction);var y={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},C={readonly:"readOnly"},T=[],k=Array.prototype.slice;function M(e){return"function"==typeof e}function D(e){return"object"==typeof e}function S(e){return"number"==typeof e.length}function V(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function A(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function L(e,t){return"number"!=typeof t||y[A(e)]?t:t+"px"}var O,E=(O=function e(t,s){var n,i,a,r=[],o=0;if(t&&!s&&t instanceof H)return t;if(M(t))return e(document).ready(t);if(t)if("string"==typeof t)if(t=a=t.trim(),0<=a.indexOf("<")&&0<=a.indexOf(">")){var l="div";for(0===a.indexOf("<li")&&(l="ul"),0===a.indexOf("<tr")&&(l="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(l="tr"),0===a.indexOf("<tbody")&&(l="table"),0===a.indexOf("<option")&&(l="select"),(i=document.createElement(l)).innerHTML=a,o=0;o<i.childNodes.length;o++)r.push(i.childNodes[o])}else for(n=s||"#"!==t[0]||t.match(/[ .<>:~]/)?(s instanceof H&&(s=s[0]),(s||document).querySelectorAll(t)):[document.getElementById(t.split("#")[1])],o=0;o<n.length;o++)n[o]&&r.push(n[o]);else if(t.nodeType||t===window||t===document)r.push(t);else if(0<t.length&&t[0].nodeType)for(o=0;o<t.length;o++)r.push(t[o]);else e.isArray(t)&&(r=t);return new H(r)},H.prototype={ready:function(e){return(document.attachEvent?"complete"==document.readyState:"loading"!=document.readyState)?e(O):document.addEventListener("DOMContentLoaded",function(){e(O)},!1),this},concat:T.concat,empty:function(){return this.each(function(){this.innerHTML=""})},map:function(s){return O(O.map(this,function(e,t){return s.call(e,t,e)}))},slice:function(){return O(k.apply(this,arguments))},addClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&""!==t[s]&&this[n].classList.add(t[s]);return this},removeClass:function(e){if(void 0===e)return this;for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&""!==t[s]&&this[n].classList.remove(t[s]);return this},hasClass:function(e){return!!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var t=e.split(" "),s=0;s<t.length;s++)for(var n=0;n<this.length;n++)void 0!==this[n].classList&&this[n].classList.toggle(t[s]);return this},closest:function(e,t){var s=this[0],n=!1;for(D(e)&&(n=O(e));s&&!(n?0<=n.indexOf(s):v(s,e));)s=s!==t&&s.nodeType!==s.DOCUMENT_NODE&&s.parentNode;return O(s)},attr:function(e,t){var s;if(1!==arguments.length||"string"!=typeof e){for(var n=0;n<this.length;n++)if(2===arguments.length)this[n].setAttribute(e,t);else for(var i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this}if(this.length)return s=this[0].getAttribute(e),s||""===s?s:void 0},removeAttr:function(e){for(var t=0;t<this.length;t++)this[t].removeAttribute(e);return this},prop:function(e,t){if(e=C[e]||e,1===arguments.length&&"string"==typeof e)return this[0]?this[0][e]:void 0;for(var s=0;s<this.length;s++)this[s][e]=t;return this},val:function(e){if(void 0===e)return this.length&&this[0].multiple?O.map(this.find("option:checked"),function(e){return e.value}):this[0]?this[0].value:void 0;if(this.length&&this[0].multiple)O.each(this[0].options,function(){this.selected=-1!=e.indexOf(this.value)});else for(var t=0;t<this.length;t++)this[t].value=e;return this},on:function(e,s,n,t){var i,a,r,o,l,c=e.split(" ");function u(e){for(var t=e.target;t;)O(t).is(s)&&n.call(t,e),t=t!==this?t.parentNode:null}function d(e,t,s,n){var i=t.split(".");e.DomNameSpaces||(e.DomNameSpaces=[]),e.DomNameSpaces.push({namespace:i[1],event:i[0],listener:s,capture:n}),e.addEventListener(i[0],s,n)}for(o=0;o<this.length;o++)if(a=this[o],M(s)||!1===s)for(M(s)&&(t=n||!1,n=s),l=0;l<c.length;l++)-1!=(r=c[l]).indexOf(".")?d(a,r,n,t):a.addEventListener(r,n,t);else for(i=u.bind(a),l=0;l<c.length;l++)r=c[l],a.DomLiveListeners||(a.DomLiveListeners=[]),a.DomLiveListeners.push({listener:n,liveListener:i}),-1!=r.indexOf(".")?d(a,r,i,t):a.addEventListener(r,i,t);return this},off:function(e,t,s,n){var i,a,r,o,l,c,u,d=this;function h(e){var t,s,n,i,a,r=e.split("."),o=r[0],l=r[1];for(s=0;s<d.length;++s)if(a=(t=d[s]).DomNameSpaces){for(n=0;n<a.length;++n)(i=a[n]).namespace!=l||i.event!=o&&o||(t.removeEventListener(i.event,i.listener,i.capture),i.removed=!0);for(n=a.length-1;0<=n;--n)a[n].removed&&a.splice(n,1)}}for(r=e.split(" "),o=0;o<r.length;o++)for(a=r[o],l=0;l<this.length;l++)if(u=(i=this[l]).DomLiveListeners,M(t)||!1===t)M(t)&&(n=s||!1,s=t),0===a.indexOf(".")?h(a.substr(1)):i.removeEventListener(a,s,n);else{if(u)for(c=0;c<u.length;c++)u[c].listener===s&&i.removeEventListener(a,u[c].liveListener,n);i.DomNameSpaces&&i.DomNameSpaces.length&&a&&h(a)}return this},trigger:function(e,t){for(var s=e.split(" "),n=0;n<s.length;n++)for(var i=0;i<this.length;i++)g(this[i],s[n],t);return this},width:function(e){return void 0!==e?this.css("width",e):this[0]===window?window.innerWidth:this[0]===document?document.documentElement.scrollWidth:0<this.length?parseFloat(this.css("width")):null},height:function(e){if(void 0!==e)return this.css("height",e);if(this[0]===window)return window.innerHeight;if(this[0]!==document)return 0<this.length?parseFloat(this.css("height")):null;var t=document.body,s=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,s.clientHeight,s.scrollHeight,s.offsetHeight)},innerWidth:function(){var t=this;if(0<this.length){if(this[0].innerWidth)return this[0].innerWidth;var s=this[0].offsetWidth;return["left","right"].forEach(function(e){s-=parseInt(t.css(V("border-"+e+"-width"))||0,10)}),s}},innerHeight:function(){var t=this;if(0<this.length){if(this[0].innerHeight)return this[0].innerHeight;var s=this[0].offsetHeight;return["top","bottom"].forEach(function(e){s-=parseInt(t.css(V("border-"+e+"-width"))||0,10)}),s}},offset:function(){if(0<this.length){var e=this[0].getBoundingClientRect(),t=document.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}},hide:function(){for(var e=0;e<this.length;e++)this[e].style.display="none";return this},show:function(){for(var e=0;e<this.length;e++)"none"==this[e].style.display&&(this[e].style.display=""),"none"==getComputedStyle(this[e],"").getPropertyValue("display")&&(this[e].style.display="block");return this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},styles:function(){return this[0]?window.getComputedStyle(this[0],null):void 0},css:function(e,t){var s,n,i=this[0],a="";if(arguments.length<2){if(!i)return;if("string"==typeof e)return i.style[e]||getComputedStyle(i,"").getPropertyValue(e)}if("string"==typeof e)t||0===t?a=A(e)+":"+L(e,t):this.each(function(){this.style.removeProperty(A(e))});else for(n in e)if(e[n]||0===e[n])a+=A(n)+":"+L(n,e[n])+";";else for(s=0;s<this.length;s++)this[s].style.removeProperty(A(n));return this.each(function(){this.style.cssText+=";"+a})},each:function(e){for(var t=0;t<this.length&&!1!==e.apply(this[t],[t,this[t]]);t++);return this},filter:function(e){for(var t=[],s=0;s<this.length;s++)M(e)?e.call(this[s],s,this[s])&&t.push(this[s]):v(this[s],e)&&t.push(this[s]);return new H(t)},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:void 0;this.empty();for(var t=0;t<this.length;t++)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t++)this[t].textContent=e;return this},is:function(e){return 0<this.length&&v(this[0],e)},not:function(t){var s=[];if(M(t)&&void 0!==t.call)this.each(function(e){t.call(this,e)||s.push(this)});else{var n="string"==typeof t?this.filter(t):S(t)&&M(t.item)?k.call(t):O(t);D(n)&&(n=O.map(n,function(e){return e})),this.each(function(e,t){n.indexOf(t)<0&&s.push(t)})}return O(s)},indexOf:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t},index:function(e){return e?this.indexOf(O(e)[0]):this.parent().children().indexOf(this[0])},get:function(e){return void 0===e?k.call(this):this[0<=e?e:e+this.length]},eq:function(e){if(void 0===e)return this;var t,s=this.length;return new H(s-1<e?[]:e<0?(t=s+e)<0?[]:[this[t]]:[this[e]])},append:function(e){var t,s;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e;n.firstChild;)this[t].appendChild(n.firstChild)}else if(e instanceof H)for(s=0;s<e.length;s++)this[t].appendChild(e[s]);else this[t].appendChild(e);return this},appendTo:function(e){return O(e).append(this),this},prepend:function(e){var t,s;for(t=0;t<this.length;t++)if("string"==typeof e){var n=document.createElement("div");for(n.innerHTML=e,s=n.childNodes.length-1;0<=s;s--)this[t].insertBefore(n.childNodes[s],this[t].childNodes[0])}else if(e instanceof H)for(s=0;s<e.length;s++)this[t].insertBefore(e[s],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},prependTo:function(e){return O(e).prepend(this),this},insertBefore:function(e){for(var t=O(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0]);else if(1<t.length)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[s].cloneNode(!0),t[n]);return this},insertAfter:function(e){for(var t=O(e),s=0;s<this.length;s++)if(1===t.length)t[0].parentNode.insertBefore(this[s],t[0].nextSibling);else if(1<t.length)for(var n=0;n<t.length;n++)t[n].parentNode.insertBefore(this[s].cloneNode(!0),t[n].nextSibling);return this},next:function(e){return 0<this.length?e?this[0].nextElementSibling&&O(this[0].nextElementSibling).is(e)?new H([this[0].nextElementSibling]):new H([]):this[0].nextElementSibling?new H([this[0].nextElementSibling]):new H([]):new H([])},nextAll:function(e){var t=[],s=this[0];if(!s)return new H([]);for(;s.nextElementSibling;){var n=s.nextElementSibling;e?O(n).is(e)&&t.push(n):t.push(n),s=n}return new H(t)},prev:function(e){return 0<this.length?e?this[0].previousElementSibling&&O(this[0].previousElementSibling).is(e)?new H([this[0].previousElementSibling]):new H([]):this[0].previousElementSibling?new H([this[0].previousElementSibling]):new H([]):new H([])},prevAll:function(e){var t=[],s=this[0];if(!s)return new H([]);for(;s.previousElementSibling;){var n=s.previousElementSibling;e?O(n).is(e)&&t.push(n):t.push(n),s=n}return new H(t)},parent:function(e){for(var t=[],s=0;s<this.length;s++)null!==this[s].parentNode&&(e?O(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return O(O.unique(t))},parents:function(e){for(var t=[],s=0;s<this.length;s++)for(var n=this[s].parentNode;n;)e?O(n).is(e)&&t.push(n):t.push(n),n=n.parentNode;return O(O.unique(t))},find:function(e){for(var t=[],s=0;s<this.length;s++)for(var n=this[s].querySelectorAll(e),i=0;i<n.length;i++)t.push(n[i]);return new H(t)},children:function(e){for(var t=[],s=0;s<this.length;s++)for(var n=this[s].childNodes,i=0;i<n.length;i++)e?1===n[i].nodeType&&O(n[i]).is(e)&&t.push(n[i]):1===n[i].nodeType&&t.push(n[i]);return new H(O.unique(t))},remove:function(){for(var e=0;e<this.length;e++)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},add:function(){var e,t;for(e=0;e<arguments.length;e++){var s=O(arguments[e]);for(t=0;t<s.length;t++)this[this.length]=s[t],this.length++}return this},before:function(e){return O(e).insertBefore(this),this},after:function(e){return O(e).insertAfter(this),this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return void 0===e?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return void 0===e?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},contents:function(){return this.map(function(e,t){return k.call(t.childNodes)})},nextUntil:function(e){for(var t=this,s=[];t.length&&!t.filter(e).length;)s.push(t[0]),t=t.next();return O(s)},prevUntil:function(e){for(var t=this,s=[];t.length&&!O(t).filter(e).length;)s.push(t[0]),t=t.prev();return O(s)},detach:function(){return this.remove()}},O.fn=H.prototype,O);function H(e){var t=0;for(t=0;t<e.length;t++)this[t]=e[t];return this.length=e.length,O(this)}var N=E;function P(r,o,l){_[r]=function(e,t){var s,n,i={},a=t||{};return!1!==l&&(a.preset=r),N(e).each(function(){s=new o(this,a),i[this.id]=s}),1==(n=Object.keys(i)).length?i[n[0]]:i}}function ne(){}function we(e){return 0<=e-parseFloat(e)}function _e(e){return"string"==typeof e}function xe(e,t,s){return Math.max(t,Math.min(e,s))}function re(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e}_.$=E,N.inArray=function(e,t,s){return T.indexOf.call(t,e,s)},N.extend=function(t){var s,e=k.call(arguments,1);return"boolean"==typeof t&&(s=t,t=e.shift()),t=t||{},e.forEach(function(e){!function e(t,s,n){for(var i in s)n&&(N.isPlainObject(s[i])||N.isArray(s[i]))?((N.isPlainObject(s[i])&&!N.isPlainObject(t[i])||N.isArray(s[i])&&!N.isArray(t[i]))&&(t[i]={}),e(t[i],s[i],n)):void 0!==s[i]&&(t[i]=s[i])}(t,e,s)}),t},N.isFunction=M,N.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)},N.isPlainObject=function(e){return D(e)&&null!==e&&e!==e.window&&Object.getPrototypeOf(e)==Object.prototype},N.each=function(e,t){var s,n;if(D(e)&&t){if(N.isArray(e)||e instanceof E)for(s=0;s<e.length&&!1!==t.call(e[s],s,e[s]);s++);else for(n in e)if(e.hasOwnProperty(n)&&"length"!==n&&!1===t.call(e[n],n,e[n]))break;return this}},N.unique=function(e){for(var t=[],s=0;s<e.length;s++)-1===t.indexOf(e[s])&&t.push(e[s]);return t},N.map=function(e,t){var s,n,i,a=[];if(S(e))for(n=0;n<e.length;n++)null!==(s=t(e[n],n))&&a.push(s);else for(i in e)null!==(s=t(e[i],i))&&a.push(s);return 0<a.length?N.fn.concat.apply([],a):a};var W,Y=0;function ie(){Y++,setTimeout(function(){Y--},500)}function Ce(e,t,s){var n=e.originalEvent||e,i=(s?"page":"client")+t;return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0][i]:n.changedTouches&&n.changedTouches[0]?n.changedTouches[0][i]:e[i]}function I(s,e,t,n,i,a){var r,o,l,c,u,d=(0,_.$)(e);function h(e){l||(l=this,r=Ce(e,"X"),o=Ce(e,"Y"),c=!1,u=new Date)}function m(e){l&&!c&&(Math.abs(Ce(e,"X")-r)>i||Math.abs(Ce(e,"Y")-o)>i)&&(c=!0)}function f(e){l&&(a&&new Date-u<100||!c?function(e,t){if(!t.mbscClick){var s=(e.originalEvent||e).changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),n.isMbscTap=!0,n.isIonicTap=!0,W=!0,t.mbscChange=!0,t.mbscClick=!0,t.dispatchEvent(n),W=!1,ie(),setTimeout(function(){delete t.mbscClick})}}(e,e.target):ie(),l=!1)}function p(e){n&&e.preventDefault(),t.call(this,e,s)}function b(){l=!1}i=i||9,d.each(function(e,t){s.settings.tap&&(ge(t,"touchstart",h,{passive:!0}),ge(t,"touchcancel",b),ge(t,"touchmove",m,{passive:!0}),ge(t,"touchend",f)),ge(t,"click",p),t.__mbscOff=function(){ye(t,"touchstart",h,{passive:!0}),ye(t,"touchcancel",b),ye(t,"touchmove",m,{passive:!0}),ye(t,"touchend",f),ye(t,"click",p),delete t.__mbscOff}})}function oe(e){e&&e[0]&&e[0].__mbscOff&&e[0].__mbscOff()}function $(e){if(Y&&!W&&!e.isMbscTap&&("TEXTAREA"!=e.target.nodeName||"mousedown"!=e.type))return e.stopPropagation(),e.preventDefault(),!1}u&&(["mouseover","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,$,!0)}),"android"==e&&s<5&&document.addEventListener("change",function(e){Y&&"checkbox"==e.target.type&&!e.target.mbscChange&&(e.stopPropagation(),e.preventDefault()),delete e.target.mbscChange},!0)),_.uid="88b5107e";var F,Te=_.$,R=+new Date,X={},z={},B={},U={xsmall:0,small:576,medium:768,large:992,xlarge:1200},le=Te.extend;le(l,{getCoord:Ce,preventClick:ie,vibrate:function(e){"vibrate"in navigator&&navigator.vibrate(e||50)}}),F=le(_,{$:Te,version:"4.10.8",autoTheme:"mobiscroll",themes:{form:{},page:{},frame:{},scroller:{},listview:{},navigation:{},progress:{},card:{}},platform:{name:e,majorVersion:s,minorVersion:n},i18n:{},instances:X,classes:z,util:l,settings:{},setDefaults:function(e){le(this.settings,e)},customTheme:function(e,t){var s,n=_.themes,i=["frame","scroller","listview","navigation","form","page","progress","card"];for(s=0;s<i.length;s++)n[i[s]][e]=le({},n[i[s]][t],{baseTheme:t})}});function ke(o,l){var c,u,d,h,m,f,p,b,v,g=this;function y(e){var s,t,n=B;return m.responsive&&(s=e||((t=c)[0].innerWidth||t.innerWidth()),Te.each(m.responsive,function(e,t){s>=(t.breakpoint||U[e])&&(n=t)})),n}g.settings={},g.element=o,g._init=ne,g._destroy=ne,g._processSettings=ne,g._checkResp=function(e){if(g&&g._responsive){var t=y(e);if(h!==t)return h=t,g.init({}),!0}},g._getRespCont=function(){return Te("body"==m.context?window:m.context)},g.init=function(e,t){var s,n,i,a,r;for(s in e&&g.getVal&&(n=g.getVal()),g.settings)delete g.settings[s];m=g.settings,le(l,e),g._hasDef&&(v=F.settings),le(m,g._defaults,v,l),c=g._getRespCont(),g._responsive&&(h=h||y(),le(m,h)),g._hasTheme&&(a=(i=m).theme,r=i.themeVariant,"auto"!=a&&a||(a=F.autoTheme),"default"==a&&(a="mobiscroll"),("dark"===r||w&&"auto"===r)&&F.themes.form[a+"-dark"]?a+="-dark":"light"===r&&/.+-dark$/.test(a)&&(a=a.replace(/-dark$/,"")),p=a,l.theme=p,f=F.themes[g._class]?F.themes[g._class][p]:{}),g._hasLang&&(u=F.i18n[m.lang]),le(m,f,u,v,l,h),g._processSettings(h||{}),g._presets&&(d=g._presets[m.preset])&&(d=d.call(o,g,l),le(m,d,l,h)),g._init(e),e&&g.setVal&&g.setVal(void 0===t?n:t,!0),b("onInit")},g.destroy=function(){g&&(g._destroy(),b("onDestroy"),delete X[o.id],g=null)},g.tap=function(e,t,s,n,i){I(g,e,t,s,n,i)},g.trigger=function(e,t){var s,n,i,a=[v,f,d,l];for(n=0;n<4;n++)(i=a[n])&&i[e]&&(s=i[e].call(o,t||{},g));return s},g.option=function(e,t,s){var n={},i=["data","invalid","valid","readonly"];/calendar|eventcalendar|range/.test(m.preset)&&i.push("marked","labels","colors"),"object"==typeof e?n=e:n[e]=t,i.forEach(function(e){l[e]=m[e]}),g.init(n,s)},g.getInst=function(){return g},l=l||{},b=g.trigger,g.__ready||(Te(o).addClass("mbsc-comp"),o.id?X[o.id]&&X[o.id].destroy():o.id="mobiscroll"+ ++R,(X[o.id]=g).__ready=!0)}function ce(e,t,s,n,i,a,r){var o=new Date(e,t,s,n||0,i||0,a||0,r||0);return 23==o.getHours()&&0===(n||0)&&o.setHours(o.getHours()+2),o}function ue(s,e,t){if(!e)return null;function i(e){for(var t=0;r+1<s.length&&s.charAt(r+1)==e;)t++,r++;return t}function n(e,t,s){var n=""+t;if(i(e))for(;n.length<s;)n="0"+n;return n}function a(e,t,s,n){return i(e)?n[t]:s[t]}var r,o,l=le({},Le,t),c="",u=!1;for(r=0;r<s.length;r++)if(u)"'"!=s.charAt(r)||i("'")?c+=s.charAt(r):u=!1;else switch(s.charAt(r)){case"d":c+=n("d",l.getDay(e),2);break;case"D":c+=a("D",e.getDay(),l.dayNamesShort,l.dayNames);break;case"o":c+=n("o",(e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5,3);break;case"m":c+=n("m",l.getMonth(e)+1,2);break;case"M":c+=a("M",l.getMonth(e),l.monthNamesShort,l.monthNames);break;case"y":o=l.getYear(e),c+=i("y")?o:(o%100<10?"0":"")+o%100;break;case"h":var d=e.getHours();c+=n("h",12<d?d-12:0===d?12:d,2);break;case"H":c+=n("H",e.getHours(),2);break;case"i":c+=n("i",e.getMinutes(),2);break;case"s":c+=n("s",e.getSeconds(),2);break;case"a":c+=11<e.getHours()?l.pmText:l.amText;break;case"A":c+=11<e.getHours()?l.pmText.toUpperCase():l.amText.toUpperCase();break;case"'":i("'")?c+="'":u=!0;break;default:c+=s.charAt(r)}return c}function de(s,a,e){var t=le({},Le,e),n=De(t.defaultValue||new Date);if(!s||!a)return n;if(a.getTime)return a;a="object"==typeof a?a.toString():a+"";function r(e){var t=c+1<s.length&&s.charAt(c+1)==e;return t&&c++,t}function i(e){r(e);var t=new RegExp("^\\d{1,"+("@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2)+"}"),s=a.substr(w).match(t);return s?(w+=s[0].length,parseInt(s[0],10)):0}function o(e,t,s){var n,i=r(e)?s:t;for(n=0;n<i.length;n++)if(a.substr(w,i[n].length).toLowerCase()==i[n].toLowerCase())return w+=i[n].length,n+1;return 0}function l(){w++}var c,u=t.shortYearCutoff,d=t.getYear(n),h=t.getMonth(n)+1,m=t.getDay(n),f=-1,p=n.getHours(),b=n.getMinutes(),v=0,g=-1,y=!1,w=0;for(c=0;c<s.length;c++)if(y)"'"!=s.charAt(c)||r("'")?l():y=!1;else switch(s.charAt(c)){case"d":m=i("d");break;case"D":o("D",t.dayNamesShort,t.dayNames);break;case"o":f=i("o");break;case"m":h=i("m");break;case"M":h=o("M",t.monthNamesShort,t.monthNames);break;case"y":d=i("y");break;case"H":p=i("H");break;case"h":p=i("h");break;case"i":b=i("i");break;case"s":v=i("s");break;case"a":g=o("a",[t.amText,t.pmText],[t.amText,t.pmText])-1;break;case"A":g=o("A",[t.amText,t.pmText],[t.amText,t.pmText])-1;break;case"'":r("'")?l():y=!0;break;default:l()}if(d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=("string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10))?0:-100)),-1<f){h=1,m=f;do{var _=32-new Date(d,h-1,32,12).getDate();_<m&&(h++,m-=_)}while(_<m)}p=-1==g?p:g&&p<12?p+12:g||12!=p?p:0;var x=t.getDate(d,h-1,m,p,b,v);return t.getYear(x)!=d||t.getMonth(x)+1!=h||t.getDay(x)!=m?n:x}function j(e,t,s){var n,i,a={y:1,m:2,d:3,h:4,i:5,s:6,u:7,tz:8};if(s)for(n in a)(i=e[a[n]-t])&&(s[n]="tz"==n?i:1)}function Me(e,t,s){var n,i,a,r,o=window.moment||t.moment,l=t.returnFormat;if(e){if("moment"==l&&o)return o(e);if("locale"==l)return ue(s,e,t);if("iso8601"==l)return n=e,i=t.isoParts,r=a="",n&&(i.h&&(r+=re(n.getHours())+":"+re(n.getMinutes()),i.s&&(r+=":"+re(n.getSeconds())),i.u&&(r+="."+re(n.getMilliseconds(),3)),i.tz&&(r+=i.tz)),i.y?(a+=n.getFullYear(),i.m&&(a+="-"+re(n.getMonth()+1),i.d&&(a+="-"+re(n.getDate())),i.h&&(a+="T"+r))):i.h&&(a=r)),a}return e}function De(e,t,s,n){var i;return e?e.getTime?e:e.toDate?e.toDate():("string"==typeof e&&(e=e.trim()),(i=Se.exec(e))?(j(i,2,n),new Date(1970,0,1,i[2]?+i[2]:0,i[3]?+i[3]:0,i[4]?+i[4]:0,i[5]?+i[5]:0)):(i=i||q.exec(e))?(j(i,0,n),new Date(i[1]?+i[1]:1970,i[2]?i[2]-1:0,i[3]?+i[3]:1,i[4]?+i[4]:0,i[5]?+i[5]:0,i[6]?+i[6]:0,i[7]?+i[7]:0)):de(t,e,s)):null}var q=/^(\d{4}|[+-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?((Z)|([+-])(\d{2})(?::(\d{2}))?)?)?$/,Se=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+-])(\d{2})(?::(\d{2}))?)?)?$/,Ve=/^\d{1,2}(\/\d{1,2})?$/,Ae=/^w\d$/i,Le={shortYearCutoff:"+10",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["S","M","T","W","T","F","S"],amText:"am",pmText:"pm",getYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDay:function(e){return e.getDate()},getDate:ce,getMaxDayOfMonth:function(e,t){return 32-new Date(e,t,32,12).getDate()},getWeekNumber:function(e){(e=new Date(e)).setHours(0,0,0),e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)}};l.datetime={formatDate:ue,parseDate:de};var Oe,Z="position:absolute;left:0;top:0;",G=Z+"right:0;bottom:0;overflow:hidden;z-index:-1;",Ee='<div style="'+G+'"><div style="'+Z+'"></div></div><div style="'+G+'"><div style="'+Z+'width:200%;height:200%;"></div></div>',He=0;function Ne(e){e.preventDefault()}function J(s,n,e){var k,u,d,M,T,D,S,V,A,L,i,O,E,H,N,P,h,W,Y,I,$,m,F,R,X,t,f,z,B,U,j,q,Z,G=this,J=Te(s),a=[],r=new Date;function K(e){z.stopProp&&e.stopPropagation();var t=x(this,e.target,".mbsc-fr-btn-e");t&&(i&&i.removeClass("mbsc-active"),(i=Te(t)).hasClass("mbsc-disabled")||i.hasClass("mbsc-fr-btn-nhl")||i.addClass("mbsc-active"),"mousedown"===e.type&&Te(document).on("mouseup",Q))}function Q(e){i&&(i.removeClass("mbsc-active"),i=null),"mouseup"===e.type&&Te(document).off("mouseup",Q)}function p(e){B&&W.contains(e.target)&&e.preventDefault()}function b(e){_.activeInstance==G&&(13!=e.keyCode||Te(e.target).is('textarea,button,input[type="button"],input[type="submit"]')&&!e.shiftKey?27==e.keyCode&&G.cancel():G.select())}function ee(e){e||Ie||!G._activeElm||(r=new Date,G._activeElm.focus())}function o(e){var t=Pe,s=z.focusOnClose;G._markupRemove(),M.remove(),N&&(O.mbscModals--,z.scrollLock&&O.mbscLock--,O.mbscLock||d.removeClass("mbsc-fr-lock"),m&&(O.mbscIOSLock--,O.mbscIOSLock||(d.removeClass("mbsc-fr-lock-ios"),k.css({top:"",left:""}),V.scrollLeft(O.mbscScrollLeft),V.scrollTop(O.mbscScrollTop))),O.mbscModals||d.removeClass("mbsc-fr-lock-ctx"),O.mbscModals&&!f||e||(t=t||J,setTimeout(function(){void 0===s||!0===s?(We=!0,t[0].focus()):s&&Te(s)[0].focus()},200))),f=void 0,P=!1,j("onHide")}function te(){clearTimeout(t),t=setTimeout(function(){G.position(!0)&&(X.style.visibility="hidden",X.offsetHeight,X.style.visibility="")},200)}function v(e){_.activeInstance==G&&e.target.nodeType&&!R.contains(e.target)&&100<new Date-r&&(r=new Date,G._activeElm.focus())}function g(e,t){function s(e){r||e.target!=R||(a=!(r=!0),o=Ce(e,"X"),l=Ce(e,"Y"))}function n(e){r&&!a&&(9<Math.abs(Ce(e,"X")-o)||9<Math.abs(Ce(e,"Y")-l))&&(a=!0)}if(G._isVisible){if(N)M.appendTo(k);else if(J.is("div")&&!G._hasContent)J.empty().append(M);else if(J.hasClass("mbsc-control")){var i=J.closest(".mbsc-control-w");M.insertAfter(i),i.hasClass("mbsc-select")&&i.addClass("mbsc-select-inline")}else M.insertAfter(J);var a,r,o,l,c,u,d,h,m,f,p,b,v,g,y;if(P=!0,G._markupInserted(M),j("onMarkupInserted",{target:W}),N&&z.closeOnOverlayTap)ge(R,"touchstart",s,{passive:!0}),ge(R,"touchmove",n,{passive:!0}),T.on("mousedown",s).on("mousemove",n).on("touchcancel",function(){r=!1}).on("touchend click",function(e){r&&!a&&(G.cancel(),"touchend"==e.type&&ie()),r=!1});if(M.on("mousedown",".mbsc-btn-e,.mbsc-fr-btn-e",Ne).on("keydown",".mbsc-fr-btn-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.click())}).on("keydown",function(e){if(32!=e.keyCode||Te(e.target).is(Fe)){if(9==e.keyCode&&N&&z.focusTrap){var t=M.find('input,select,textarea,button,[tabindex="0"]').filter(function(){return 0<this.offsetWidth||0<this.offsetHeight}),s=t.index(Te(":focus",M)),n=t.length-1,i=0;e.shiftKey&&(n=0,i=-1),s===n&&(t.eq(i)[0].focus(),e.preventDefault())}}else e.preventDefault()}).on("touchend",".mbsc-fr-btn-e",Q),ge(W,"touchstart",K,{passive:!0}),ge(W,"mousedown",K),ge(W,"touchstart",function(){U||(U=!0,k.find(".mbsc-no-touch").removeClass("mbsc-no-touch"))},{passive:!0,capture:!0}),Te.each(L,function(e,t){G.tap(Te(".mbsc-fr-btn"+e,M),function(e){t=_e(t)?G.buttons[t]:t,(_e(t.handler)?G.handlers[t.handler]:t.handler).call(this,e,G)},!0)}),G._attachEvents(M),!1!==G.position())(N||G._checkSize)&&(c=W,u=te,d=z.zone,y=0,window.ResizeObserver?(Oe=Oe||new ResizeObserver(function(e){var t=e,s=Array.isArray(t),n=0;for(t=s?t:t[Symbol.iterator]();;){var i;if(s){if(n>=t.length)break;i=t[n++]}else{if((n=t.next()).done)break;i=n.value}i.target.__mbscResize()}}),He++,c.__mbscResize=u,Oe.observe(c)):((f=document.createElement("div")).innerHTML=Ee,f.dir="ltr",v=f.childNodes[1],h=f.childNodes[0],m=h.childNodes[0],c.appendChild(f),h.addEventListener("scroll",x),v.addEventListener("scroll",x),d?d.runOutsideAngular(function(){fe(_)}):fe(_)),F={detach:function(){Oe?(He--,Oe.unobserve(c),He||(Oe=null)):(c.removeChild(f),g=!0)}}),N&&(M.removeClass("mbsc-fr-pos"),E&&!e?M.addClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+E).on(se,function e(){M.off(se,e).removeClass("mbsc-anim-in mbsc-anim-trans mbsc-anim-trans-"+E).find(".mbsc-fr-popup").removeClass("mbsc-anim-"+E),ee(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+E):ee(t)),j("onShow",{target:W,valueText:G._tempValue})}function w(){m.style.width="100000px",m.style.height="100000px",h.scrollLeft=1e5,h.scrollTop=1e5,v.scrollLeft=1e5,v.scrollTop=1e5}function _(){var e=new Date;p=0,g||(200<e-y&&!h.scrollTop&&!h.scrollLeft&&(y=e,w()),p=p||fe(_))}function x(){b=b||fe(C)}function C(){b=0,w(),u()}}function l(e,t){G._isVisible||(e&&e(),!1!==G.show()&&(Pe=t))}function c(){G._fillValue(),j("onSet",{valueText:G._value})}function y(){j("onCancel",{valueText:G._value})}function w(){G.setVal(null,!0)}ke.call(this,s,n,!0),G.position=function(e){var t,s,n,i,a,r,o,l,c,u,d,h,m,f,p,b,v,g,y,w={},_=0,x=0,C=0,T=0;if(!P)return!1;if(b=q,p=Z,m=Math.min(W.offsetHeight,H?1/0:window.innerHeight),(f=Math.min(W.offsetWidth,H?1/0:window.innerWidth))&&m&&(q!==f||Z!==m||!e)){if(G._checkResp(f))return!1;if(q=f,Z=m,G._isFullScreen||/top|bottom/.test(z.display)?S.width(f):N&&A.width(""),G._position(M),!G._isFullScreen&&/center|bubble/.test(z.display)&&(Te(".mbsc-w-p",M).each(function(){v=this.getBoundingClientRect().width,T+=v,C=C<v?v:C}),h=f-16<T||!0===z.tabs,A.css({width:G._isLiquid?Math.min(z.maxPopupWidth,f-16):Math.ceil(h?C:T),"white-space":h?"":"nowrap"})),!1!==j("onPosition",{target:W,popup:X,hasTabs:h,oldWidth:b,oldHeight:p,windowWidth:f,windowHeight:m})&&N)return $&&(_=V.scrollLeft(),x=V.scrollTop(),q&&D.css({width:"",height:""})),Y=X.offsetWidth,I=X.offsetHeight,B=I<=m&&Y<=f,"center"==z.display?(y=Math.max(0,_+(f-Y)/2),g=Math.max(0,x+(m-I)/2)):"bubble"==z.display?(t=void 0===z.anchor?J:Te(z.anchor),o=Te(".mbsc-fr-arr-i",M)[0],a=(i=t.offset()).top+(H?x-k.offset().top:0),r=i.left+(H?_-k.offset().left:0),s=t[0].offsetWidth,n=t[0].offsetHeight,l=o.offsetWidth,c=o.offsetHeight,y=xe(r-(Y-s)/2,_+3,_+f-Y-3),x+m<(g=a+n+c/2)+I+8&&x<a-I-c/2?(S.removeClass("mbsc-fr-bubble-bottom").addClass("mbsc-fr-bubble-top"),g=a-I-c/2):S.removeClass("mbsc-fr-bubble-top").addClass("mbsc-fr-bubble-bottom"),Te(".mbsc-fr-arr",M).css({left:xe(r+s/2-(y+(Y-l)/2),0,l)}),B=x<g&&_<y&&g+I<=x+m&&y+Y<=_+f):(y=_,g="top"==z.display?x:Math.max(0,x+m-I)),$&&(u=Math.max(g+I,H?O.scrollHeight:Te(document).height()),d=Math.max(y+Y,H?O.scrollWidth:Te(document).width()),D.css({width:d,height:u}),z.scroll&&"bubble"==z.display&&(x+m<g+I+8||x+m<a||a+n<x)&&V.scrollTop(Math.min(a,g+I-m+8,u-m))),w.top=Math.floor(g),w.left=Math.floor(y),S.css(w),!0}},G.attachShow=function(e,t){var s,n=Te(e).off(".mbsc"),i=n.prop("readonly");oe(n),"inline"!==z.display&&((z.showOnFocus||z.showOnTap)&&n.is("input,select")&&(n.prop("readonly",!0).on("mousedown.mbsc",function(e){e.preventDefault()}).on("focus.mbsc",function(){G._isVisible&&this.blur()}),(s=Te('label[for="'+n.attr("id")+'"]')).length||(s=n.closest("label"))),n.is("select")||(z.showOnFocus&&n.on("focus.mbsc",function(){We?We=!1:l(t,n)}),z.showOnTap&&(n.on("keydown.mbsc",function(e){32!=e.keyCode&&13!=e.keyCode||(e.preventDefault(),e.stopPropagation(),l(t,n))}),G.tap(n,function(e){e.isMbscTap&&(U=!0),l(t,n)}),s&&s.length&&G.tap(s,function(e){e.preventDefault(),e.target!==n[0]&&l(t,n)}))),a.push({readOnly:i,el:n,lbl:s}))},G.select=function(){N?G.hide(!1,"set",!1,c):c()},G.cancel=function(){N?G.hide(!1,"cancel",!1,y):y()},G.clear=function(){G._clearValue(),j("onClear"),N&&G._isVisible&&!G.live?G.hide(!1,"clear",!1,w):w()},G.enable=function(){z.disabled=!1,Te.each(a,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!1)})},G.disable=function(){z.disabled=!0,Te.each(a,function(e,t){t.el.is("input,select")&&(t.el[0].disabled=!0)})},G.show=function(e,t){var s,n,i,a;if(!z.disabled&&!G._isVisible){if(G._readValue(),!1===j("onBeforeShow"))return!1;if(Pe=null,E=z.animate,L=z.buttons||[],$=H||"bubble"==z.display,m=Ye&&!$&&z.scrollLock,s=0<L.length,!1!==E&&("top"==z.display?E=E||"slidedown":"bottom"==z.display?E=E||"slideup":"center"!=z.display&&"bubble"!=z.display||(E=E||"pop")),N&&(Z=q=0,m&&!d.hasClass("mbsc-fr-lock-ios")&&(O.mbscScrollTop=a=Math.max(0,V.scrollTop()),O.mbscScrollLeft=i=Math.max(0,V.scrollLeft()),k.css({top:-a+"px",left:-i+"px"})),d.addClass((z.scrollLock?"mbsc-fr-lock":"")+(m?" mbsc-fr-lock-ios":"")+(H?" mbsc-fr-lock-ctx":"")),Te(document.activeElement).is("input,textarea")&&document.activeElement.blur(),f=_.activeInstance,_.activeInstance=G,O.mbscModals=(O.mbscModals||0)+1,m&&(O.mbscIOSLock=(O.mbscIOSLock||0)+1),z.scrollLock&&(O.mbscLock=(O.mbscLock||0)+1)),n='<div lang="'+z.lang+'" class="mbsc-fr mbsc-'+z.theme+(z.baseTheme?" mbsc-"+z.baseTheme:"")+" mbsc-fr-"+z.display+" "+(z.cssClass||"")+" "+(z.compClass||"")+(G._isLiquid?" mbsc-fr-liq":"")+(N?" mbsc-fr-pos"+(z.showOverlay?"":" mbsc-fr-no-overlay"):"")+(h?" mbsc-fr-pointer":"")+($e?" mbsc-fr-hb":"")+(U?"":" mbsc-no-touch")+(m?" mbsc-platform-ios":"")+(s?3<=L.length?" mbsc-fr-btn-block ":"":" mbsc-fr-nobtn")+'">'+(N?'<div class="mbsc-fr-persp">'+(z.showOverlay?'<div class="mbsc-fr-overlay"></div>':"")+'<div role="dialog" class="mbsc-fr-scroll">':"")+'<div class="mbsc-fr-popup'+(z.rtl?" mbsc-rtl":" mbsc-ltr")+(z.headerText?" mbsc-fr-has-hdr":"")+'">'+("bubble"===z.display?'<div class="mbsc-fr-arr-w"><div class="mbsc-fr-arr-i"><div class="mbsc-fr-arr"></div></div></div>':"")+(N?'<div class="mbsc-fr-focus" tabindex="-1"></div>':"")+'<div class="mbsc-fr-w">'+(z.headerText?'<div class="mbsc-fr-hdr">'+(_e(z.headerText)?z.headerText:"")+"</div>":"")+'<div class="mbsc-fr-c">',n+=G._generateContent(),n+="</div>",s){var r,o,l,c=L.length;for(n+='<div class="mbsc-fr-btn-cont">',o=0;o<L.length;o++)l=z.btnReverse?c-o-1:o,"set"===(r=_e(r=L[l])?G.buttons[r]:r).handler&&(r.parentClass="mbsc-fr-btn-s"),"cancel"===r.handler&&(r.parentClass="mbsc-fr-btn-c"),n+="<div"+(z.btnWidth?' style="width:'+100/L.length+'%"':"")+' class="mbsc-fr-btn-w '+(r.parentClass||"")+'"><div tabindex="0" role="button" class="mbsc-fr-btn'+l+" mbsc-fr-btn-e "+(void 0===r.cssClass?z.btnClass:r.cssClass)+(r.icon?" mbsc-ic mbsc-ic-"+r.icon:"")+'">'+(r.text||"")+"</div></div>";n+="</div>"}M=Te(n+="</div></div></div></div>"+(N?"</div></div>":"")),D=Te(".mbsc-fr-persp",M),T=Te(".mbsc-fr-scroll",M),A=Te(".mbsc-fr-w",M),S=Te(".mbsc-fr-popup",M),u=Te(".mbsc-fr-hdr",M),W=M[0],R=T[0],X=S[0],G._activeElm=Te(".mbsc-fr-focus",M)[0],G._markup=M,G._isVisible=!0,G.markup=W,G._markupReady(M),j("onMarkupReady",{target:W}),N&&(Te(window).on("keydown",b),z.scrollLock&&(ge(document,"touchmove",p,{passive:!1}),ge(document,"mousewheel",p,{passive:!1}),ge(document,"wheel",p,{passive:!1})),z.focusTrap&&V.on("focusin",v)),N?setTimeout(function(){g(e,t)},m?100:0):g(e,t)}},G.hide=function(t,e,s,n){if(!G._isVisible||!s&&!G._isValid&&"set"==e||!s&&!1===j("onBeforeClose",{valueText:G._tempValue,button:e}))return!1;G._isVisible=!1,F&&(F.detach(),F=null),N&&(Te(document.activeElement).is("input,textarea")&&X.contains(document.activeElement)&&document.activeElement.blur(),_.activeInstance==G&&(_.activeInstance=f),Te(window).off("keydown",b),V.off("focusin",v),ye(document,"touchmove",p,{passive:!1}),ye(document,"mousewheel",p,{passive:!1}),ye(document,"wheel",p,{passive:!1})),M&&(N&&P&&E&&!t?M.addClass("mbsc-anim-out mbsc-anim-trans mbsc-anim-trans-"+E).on(se,function e(){M.off(se,e),o(t)}).find(".mbsc-fr-popup").addClass("mbsc-anim-"+E):o(t),G._detachEvents(M)),n&&n(),J.trigger("blur"),j("onClose",{valueText:G._value})},G.isVisible=function(){return G._isVisible},G.setVal=ne,G.getVal=ne,G._generateContent=ne,G._attachEvents=ne,G._detachEvents=ne,G._readValue=ne,G._clearValue=ne,G._fillValue=ne,G._markupReady=ne,G._markupInserted=ne,G._markupRemove=ne,G._position=ne,G.__processSettings=ne,G.__init=ne,G.__destroy=ne,G._destroy=function(){G.hide(!0,!1,!0),J.off(".mbsc"),oe(J),Te.each(a,function(e,t){t.el.off(".mbsc").prop("readonly",t.readOnly),oe(t.el),t.lbl&&(t.lbl.off(".mbsc"),oe(t.lbl))}),G.__destroy()},G._updateHeader=function(){var e=z.headerText,t=e?"function"==typeof e?e.call(s,G._tempValue):e.replace(/\{value\}/i,G._tempValue):"";u.html(t||"&nbsp;")},G._getRespCont=function(){return H="body"!=z.context,V=Te(H?z.context:window),"inline"==z.display?J.is("div")?J:J.parent():V},G._processSettings=function(e){var t,s;for(G.__processSettings(e),(h=!z.touchUi)&&(z.display=e.display||n.display||"bubble",z.buttons=e.buttons||n.buttons||[],z.showOverlay=e.showOverlay||n.showOverlay||!1),z.buttons=z.buttons||("inline"!==z.display?["cancel","set"]:[]),z.headerText=void 0===z.headerText?"inline"!==z.display&&"{value}":z.headerText,L=z.buttons||[],N="inline"!==z.display,k=Te(z.context),d=H?k:Te("body,html"),O=k[0],G.live=!0,s=0;s<L.length;s++)"ok"!=(t=L[s])&&"set"!=t&&"set"!=t.handler||(G.live=!1);G.buttons.set={text:z.setText,icon:z.setIcon,handler:"set"},G.buttons.cancel={text:z.cancelText,icon:z.cancelIcon,handler:"cancel"},G.buttons.close={text:z.closeText,icon:z.closeIcon,handler:"cancel"},G.buttons.clear={text:z.clearText,icon:z.clearIcon,handler:"clear"},G._isInput=J.is("input")},G._init=function(e){var t=G._isVisible,s=t&&!M.hasClass("mbsc-fr-pos");t&&G.hide(!0,!1,!0),J.off(".mbsc"),oe(J),G.__init(e),G._isLiquid="liquid"==z.layout,N?(G._readValue(),G._hasContent||z.skipShow||G.attachShow(J),t&&G.show(s)):G.show(),J.removeClass("mbsc-cloak").filter("input, select, textarea").on("change.mbsc",function(){G._preventChange||G.setVal(J.val(),!0,!1),G._preventChange=!1})},G.buttons={},G.handlers={set:G.select,cancel:G.cancel,clear:G.clear},G._value=null,G._isValid=!0,G._isVisible=!1,z=G.settings,j=G.trigger,e||G.init()}var Pe,We,K=_.themes,Ye=/(iphone|ipod)/i.test(d)&&7<=s,Ie="android"==e,Q="ios"==e,$e=Q&&7<s,Fe="input,select,textarea,button";J.prototype._defaults={lang:"en",setText:"Set",selectedText:"{count} selected",closeText:"Close",cancelText:"Cancel",clearText:"Clear",context:"body",maxPopupWidth:600,disabled:!1,closeOnOverlayTap:!0,showOnFocus:Ie||Q,showOnTap:!0,display:"center",scroll:!0,scrollLock:!0,showOverlay:!0,tap:!0,touchUi:!0,btnClass:"mbsc-fr-btn",btnWidth:!0,focusTrap:!0,focusOnClose:!(Q&&8==s)},z.Frame=J,K.frame.mobiscroll={headerText:!1,btnWidth:!1},K.scroller.mobiscroll=le({},K.frame.mobiscroll,{rows:5,showLabel:!1,selectedLineBorder:1,weekDays:"min",checkIcon:"ion-ios7-checkmark-empty",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),u&&Te(window).on("focus",function(){Pe&&(We=!0)});function ee(i,e,t){var n,s,a,r,c,o,l,u,d,h,m,f,p,b,v,g,y,w,_,x,C,T,k,M,D,S,V,A,L,O,E,H,N,P,W,Y,I,$,F,R,X,z,B,U,j,q=this,Z=0,G=1,J=e,K=Te(i);function Q(e){B("onStart",{domEvent:e}),J.stopProp&&e.stopPropagation(),J.prevDef&&"mousedown"==e.type&&e.preventDefault(),J.readonly||J.lock&&C||be(e,this)&&!x&&(n&&n.removeClass("mbsc-active"),v=!1,C||(n=Te(e.target).closest(".mbsc-btn-e",this)).length&&!n.hasClass("mbsc-disabled")&&(v=!0,r=setTimeout(function(){n.addClass("mbsc-active")},100)),T=L=!(x=!0),q.scrolled=C,I=Ce(e,"X"),$=Ce(e,"Y"),f=I,u=l=o=0,Y=new Date,W=+ve(R,U)||0,C&&de(W,Re?0:1),"mousedown"===e.type&&Te(document).on("mousemove",ee).on("mouseup",se))}function ee(e){x&&(J.stopProp&&e.stopPropagation(),f=Ce(e,"X"),p=Ce(e,"Y"),o=f-I,l=p-$,u=U?l:o,v&&(Math.abs(l)>J.thresholdY||Math.abs(o)>J.thresholdX)&&(clearTimeout(r),n.removeClass("mbsc-active"),v=!1),(q.scrolled||!T&&Math.abs(u)>z)&&(L||B("onGestureStart",b),q.scrolled=L=!0,M||(M=!0,k=fe(te))),U||J.scrollLock?e.preventDefault():q.scrolled?e.preventDefault():7<Math.abs(l)&&(T=!0,q.scrolled=!0,se()))}function te(){w&&(u=xe(u,-N*w,N*w)),de(xe(W+u,_-m,y+m)),M=!1}function se(e){if(x){var t,s=new Date-Y;J.stopProp&&e&&e.stopPropagation(),pe(k),M=!1,!T&&q.scrolled&&(J.momentum&&s<300&&(t=u/s,u=Math.max(Math.abs(u),t*t/J.speedUnit)*(u<0?-1:1)),ue(u)),v&&(clearTimeout(r),n.addClass("mbsc-active"),setTimeout(function(){n.removeClass("mbsc-active")},100),T||q.scrolled||B("onBtnTap",{target:n[0],domEvent:e})),e&&"mouseup"==e.type&&Te(document).off("mousemove",ee).off("mouseup",se),x=!1}}function ne(e){q.scrolled&&(q.scrolled=!1,e.stopPropagation(),e.preventDefault())}function ie(e){if(i.contains(e.target)&&(e=e.originalEvent||e,u=U?null==e.deltaY?e.wheelDelta||e.detail:e.deltaY:e.deltaX,B("onStart",{domEvent:e}),J.stopProp&&e.stopPropagation(),u)){if(e.preventDefault(),e.deltaMode&&1==e.deltaMode&&(u*=15),u=xe(-u,-E,E),W=j,J.readonly)return;if(L||ce(),W+u<_&&(W=_,u=0),y<W+u&&(W=y,u=0),M||(M=!0,k=fe(te)),!u&&L)return;L=!0,clearTimeout(O),O=setTimeout(function(){pe(k),L=M=!1,ue(u)},200)}}function ae(e){B("onStart",{domEvent:e}),J.readonly||(e.stopPropagation(),W=j,L=!1,e.target==D?($=Ce(e,"Y",!0),Te(document).on("mousemove",re).on("mouseup",oe)):($=s.offset().top,re(e),oe()))}function re(e){var t=(Ce(e,"Y",!0)-$)/c;u=g?xe(u=-(w*N*2+c)*t,-N*w,N*w):(_-y-c)*t,L||ce(),L=!0,de(xe(W+u,_-m,y+m))}function oe(){W=j,ue(0),Te(document).off("mousemove",re).off("mouseup",oe)}function le(e){e.stopPropagation()}function ce(){B("onGestureStart",b={posX:U?0:j,posY:U?j:0,originX:U?0:W,originY:U?W:0,direction:0<u?U?270:360:U?90:180})}function ue(e){var t,s,n;if(w&&(e=xe(e,-N*w,N*w)),n=xe(Math.round((W+e)/N)*N,_,y),P){if(e<0){for(t=P.length-1;0<=t;t--)if(Math.abs(n)+c>=P[t].breakpoint){G=2,n=P[Z=t].snap2;break}}else if(0<=e)for(t=0;t<P.length;t++)if(Math.abs(n)<=P[t].breakpoint){G=1,n=P[Z=t].snap1;break}n=xe(n,_,y)}s=J.time||(j<_||y<j?1e3:Math.max(1e3,Math.abs(n-j)*J.timeUnit)),b.destinationX=U?0:n,b.destinationY=U?n:0,b.duration=s,b.transitionTiming=h,B("onGestureEnd",b),q.scroll(n,s)}function de(t,e,s,n){function i(){clearInterval(H),clearTimeout(X),C=!1,j=t,b.posX=U?0:t,b.posY=U?t:0,r&&B("onMove",b),o&&B("onAnimationEnd",b),n&&n()}var a,r=t!=j,o=1<e,l=e?he+"transform "+Math.round(e)+"ms "+h:"";b={posX:U?0:j,posY:U?j:0,originX:U?0:W,originY:U?W:0,direction:0<t-j?U?270:360:U?90:180},j=t,o&&(b.destinationX=U?0:t,b.destinationY=U?t:0,b.duration=e,b.transitionTiming=h,B("onAnimationStart",b)),F[me+"Transition"]=l,F[me+"Transform"]="translate3d("+(U?"0,"+t+"px,":t+"px,0,")+"0)",D&&S&&(a=g?(V-t)/(w*N*2):(t-y)/(_-y),D.style[me+"Transition"]=l,D.style[me+"Transform"]="translate3d(0,"+Math.max(0,Math.min((c-S)*a,c-S))+"px,0)"),!r&&!C||!e||e<=1?i():e&&(C=!s,clearInterval(H),H=setInterval(function(){var e=+ve(R,U)||0;b.posX=U?0:e,b.posY=U?e:0,B("onMove",b),Math.abs(e-t)<2&&i()},100),clearTimeout(X),X=setTimeout(function(){i()},e)),J.sync&&J.sync(t,e,h)}ke.call(this,i,e,!0),q.scrolled=!1,q.scroll=function(e,t,s,n){e=xe(e=we(e)?Math.round(e/N)*N:Math.ceil((Te(e,i).length?Math.round(R.offset()[d]-Te(e,i).offset()[d]):j)/N)*N,_,y),Z=Math.round(e/N),W=j,V=w*N+e,de(e,t,s,n)},q.refresh=function(e){var t;for(c=(void 0===J.contSize?U?K.height():K.width():J.contSize)||0,y=(void 0===J.maxScroll?0:J.maxScroll)||0,_=Math.min(y,void 0===J.minScroll?Math.min(0,U?c-R.height():c-R.width()):J.minScroll)||0,P=null,!U&&J.rtl&&(t=y,y=-_,_=-t),_e(J.snap)&&(P=[],R.find(J.snap).each(function(){var e=U?this.offsetTop:this.offsetLeft,t=U?this.offsetHeight:this.offsetWidth;P.push({breakpoint:e+t/2,snap1:-e,snap2:c-e-t})})),N=we(J.snap)?J.snap:1,w=J.snap?J.maxSnapScroll:0,h=J.easing,m=J.elastic?we(J.snap)?N:we(J.elastic)?J.elastic:0:0,E=N;44<E;)E/=2;E=Math.round(44/E)*E,D&&(g=_==-1/0||y==1/0,S=_<y?Math.max(20,c*c/(y-_+c)):0,D.style.height=S+"px",A.style.height=S?"":0),void 0===j&&(j=J.initialPos,Z=Math.round(j/N)),e||q.scroll(J.snap?P&&P[Z]?P[Z]["snap"+G]:Z*N:j)},q._processSettings=function(){U="Y"==J.axis,d=U?"top":"left",R=J.moveElement||K.children().eq(0),F=R[0].style,z=U?J.thresholdY:J.thresholdX,J.scrollbar&&(a=J.scrollbar,s=a.find(".mbsc-sc-bar"),D=s[0],A=a[0])},q._init=function(){q.refresh(),ge(i,"mousedown",Q),ge(i,"touchstart",Q,{passive:!0}),ge(i,"touchend",se),ge(i,"touchcancel",se),ge(i,"click",ne,!0),ge(document,"touchmove",ee,{passive:!1}),J.mousewheel&&(ge(document,"wheel",ie,{passive:!1,capture:!0}),ge(document,"mousewheel",ie,{passive:!1,capture:!0})),D&&a.on("mousedown",ae).on("click",le)},q._destroy=function(){clearInterval(H),ye(i,"mousedown",Q),ye(i,"touchstart",Q,{passive:!0}),ye(i,"touchend",se),ye(i,"touchcancel",se),ye(i,"click",ne,!0),ye(document,"touchmove",ee,{passive:!1}),ye(document,"wheel",ie,{passive:!1,capture:!0}),ye(document,"mousewheel",ie,{passive:!1,capture:!0}),D&&a.off("mousedown",ae).off("click",le)},J=q.settings,B=q.trigger,t||q.init()}var Re="ios"==e;ee.prototype={_defaults:{speedUnit:.0022,timeUnit:3,initialPos:0,axis:"Y",thresholdX:10,thresholdY:5,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",stopProp:!0,momentum:!0,mousewheel:!0,elastic:!0}};var te={},Xe=u?window.CSS:null,ze=Xe&&Xe.supports&&Xe.supports("(transform-style: preserve-3d)");function Be(e){return(e+"").replace(/"/g,"___")}function Ue(p,t,e){var s,h,g,b,y,c,x,w,_,u,d,v,C,T,k,M,r,D=40,S=1e3,V=this,o=Te(p);function A(e){var t,s,n=+Te(this).attr("data-index");38==e.keyCode?(t=!0,s=-1):40==e.keyCode?(t=!0,s=1):32==e.keyCode&&(t=!0,a(n,Te(e.target))),t&&(e.stopPropagation(),e.preventDefault(),s&&x.start(n,s,e))}function L(){x.stop()}function a(e,t){var s=M[e],n=+t.attr("data-index"),i=f(s,n),a=V._tempSelected[e],r=we(s.multiple)?s.multiple:1/0;!1===T("onItemTap",{target:t[0],index:e,value:i,selected:t.hasClass("mbsc-sc-itm-sel")})||V._prevItemTap||(s.multiple&&!s._disabled[i]&&(void 0!==a[i]?(t.removeClass(y).removeAttr("aria-selected"),delete a[i]):(1==r&&(V._tempSelected[e]=a={},s._$markup.find(".mbsc-sc-itm-sel").removeClass(y).removeAttr("aria-selected")),function(e){var t,s=[];for(t in e)s.push(e[t]);return s}(a).length<r&&(t.addClass(y).attr("aria-selected","true"),a[i]=i))),F(s,e,n,S,s._index<n?1:2,!0,s.multiple),V.live&&(!s.multiple||1===s.multiple&&C.tapSelect)&&(!0===C.setOnTap||C.setOnTap[e])&&setTimeout(function(){V.select()},C.tapSelect?0:200)),V._prevItemTap=!1}function l(e){return-(e.max-e._offset-(e.multiple&&!b?Math.floor(C.rows/2):0))*_}function m(e){return-(e.min-e._offset+(e.multiple&&!b?Math.floor(C.rows/2):0))*_}function O(e,t){return(e._array?e._map[t]:+e.getIndex(t,V))||0}function E(e,t){var s=e.data;if(t>=e.min&&t<=e.max)return e._array?e.circular?Te(s).get(t%e._length):s[t]:Te.isFunction(s)?s(t,V):""}function H(e){return Te.isPlainObject(e)?void 0!==e.value?e.value:e.display:e}function f(e,t){return H(E(e,t))}function N(e,t,s){var n=M[e];F(n,e,n._index+t,C.delay+100,1==t?1:2,!1,!1,"keydown"==s.type)}function P(e){return Te.isArray(C.readonly)?C.readonly[e]:C.readonly}function W(e,t,s){var n=le(M[t]||{},e),i=n._index-n._batch;return n.data=n.data||[],n.key=void 0!==n.key?n.key:t,n.label=void 0!==n.label?n.label:t,n._map={},n._array=Te.isArray(n.data),n._array&&(n._length=n.data.length,Te.each(n.data,function(e,t){n._map[H(t)]=e})),n.circular=void 0===C.circular?void 0===n.circular?n._array&&n._length>C.rows:n.circular:Te.isArray(C.circular)?C.circular[t]:C.circular,n.min=n._array?n.circular?-1/0:0:void 0===n.min?-1/0:n.min,n.max=n._array?n.circular?1/0:n._length-1:void 0===n.max?1/0:n.max,n._nr=t,n._index=O(n,w[t]),n._disabled={},n._batch=0,n._current=n._index,n._first=n._index-D,n._last=n._index+D,n._offset=n._first,s?(n._offset-=n._margin/_+(n._index-i),n._margin+=(n._index-i)*_):n._margin=0,n._refresh=function(e){le(n._scroller.settings,{minScroll:l(n),maxScroll:m(n)}),n._scroller.refresh(e)},r[n.key]=n}function Y(e,t,s,n,i){var a,r,o,l,c,u,d,h,m,f,p="",b=V._tempSelected[t],v=e._disabled||{};for(a=s;a<=n;a++)o=E(e,a),m=o,c=void 0===(f=Te.isPlainObject(m)?m.display:m)?"":f,l=H(o),r=o&&void 0!==o.cssClass?o.cssClass:"",u=o&&void 0!==o.label?o.label:"",d=o&&o.invalid,h=void 0!==l&&l==w[t]&&!e.multiple,p+='<div role="option" tabindex="-1" aria-selected="'+!!b[l]+'" class="mbsc-sc-itm '+(i?"mbsc-sc-itm-3d ":"")+r+" "+(h?"mbsc-sc-itm-sel ":"")+(b[l]?y:"")+(void 0===l?" mbsc-sc-itm-ph":" mbsc-btn-e")+(d?" mbsc-sc-itm-inv-h mbsc-disabled":"")+(v[l]?" mbsc-sc-itm-inv mbsc-disabled":"")+'" data-index="'+a+'" data-val="'+Be(l)+'"'+(u?' aria-label="'+u+'"':"")+(h?' aria-selected="true"':"")+' style="height:'+_+"px;line-height:"+_+"px;"+(i?he+"transform:rotateX("+(e._offset-a)*g%360+"deg) translateZ("+_*C.rows/2+"px);":"")+'">'+(1<k?'<div class="mbsc-sc-itm-ml" style="line-height:'+Math.round(_/k)+"px;font-size:"+Math.round(_/k*.8)+'px;">':"")+c+(1<k?"</div>":"")+"</div>";return p}function I(e,t,s,n){var i,a=M[e],r=n||a._disabled,o=O(a,t),l=f(a,o),c=l,u=l,d=0,h=0;if(!0===r[l]){for(i=0;o-d>=a.min&&r[c]&&i<100;)i++,c=f(a,o-++d);for(i=0;o+h<a.max&&r[u]&&i<100;)i++,u=f(a,o+ ++h);l=(h<d&&h&&2!==s||!d||o-d<0||1==s)&&!r[u]?u:c}return l}function $(n,i,a,e,r,t,o){var l,c,u,d,s,h,m,f=V._isVisible;v=!0,d=C.validate.call(p,{values:w.slice(0),index:i,direction:a},V)||{},v=!1,d.valid&&(V._tempWheelArray=w=d.valid.slice(0)),t||Te.each(M,function(e,s){if(f&&s._$markup.find(".mbsc-sc-itm-inv").removeClass("mbsc-sc-itm-inv mbsc-disabled"),s._disabled={},d.disabled&&d.disabled[e]&&Te.each(d.disabled[e],function(e,t){s._disabled[t]=!0,f&&s._$markup.find('.mbsc-sc-itm[data-val="'+Be(t)+'"]').addClass("mbsc-sc-itm-inv mbsc-disabled")}),w[e]=s.multiple?w[e]:I(e,w[e],a),f){if(s.multiple&&void 0!==i||s._$markup.find(".mbsc-sc-itm-sel").removeClass(y).removeAttr("aria-selected"),c=O(s,w[e]),l=c-s._index+s._batch,Math.abs(l)>2*D+1&&(u=l+(2*D+1)*(0<l?-1:1),s._offset+=u,s._margin-=u*_,s._refresh()),s._index=c+s._batch,s.multiple){if(void 0===i)for(var t in V._tempSelected[e])s._$markup.find('.mbsc-sc-itm[data-val="'+Be(t)+'"]').addClass(y).attr("aria-selected","true")}else s._$markup.find('.mbsc-sc-itm[data-val="'+Be(w[e])+'"]').addClass("mbsc-sc-itm-sel").attr("aria-selected","true");s._$active&&s._$active.attr("tabindex",-1),s._$active=s._$markup.find('.mbsc-sc-itm[data-index="'+s._index+'"]').eq(b&&s.multiple?1:0).attr("tabindex",0),o&&i===e&&s._$active.length&&(s._$active[0].focus(),s._$scroller.parent().scrollTop(0)),s._scroller.scroll(-(c-s._offset+s._batch)*_,i===e||void 0===i?n:S,r)}}),T("onValidated",{index:i,time:n}),V._tempValue=C.formatValue.call(p,w,V),f&&V._updateHeader(),V.live&&(h=t,(m=M[s=i])&&(!m.multiple||1!==m.multiple&&h&&(!0===C.setOnTap||C.setOnTap[s])))&&(V._hasValue=e||V._hasValue,R(e,e,0,!0),e&&T("onSet",{valueText:V._value})),e&&T("onChange",{index:i,valueText:V._tempValue})}function F(e,t,s,n,i,a,r,o){var l=f(e,s);void 0!==l&&(w[t]=l,e._batch=e._array?Math.floor(s/e._length)*e._length:0,e._index=s,setTimeout(function(){$(n,t,i,!0,a,r,o)},10))}function R(e,t,s,n,i){if(n?V._tempValue=C.formatValue.call(p,V._tempWheelArray,V):$(s),!i){V._wheelArray=[];for(var a=0;a<w.length;a++)V._wheelArray[a]=M[a]&&M[a].multiple?Object.keys(V._tempSelected[a]||{})[0]:w[a];V._value=V._hasValue?V._tempValue:null,V._selected=le(!0,{},V._tempSelected)}e&&(V._isInput&&o.val(V._hasValue?V._tempValue:""),T("onFill",{valueText:V._hasValue?V._tempValue:"",change:t}),t&&(V._preventChange=!0,o.trigger("change")))}J.call(this,p,t,!0),V.setVal=V._setVal=function(e,t,s,n,i){V._hasValue=null!=e,V._tempWheelArray=w=Te.isArray(e)?e.slice(0):C.parseValue.call(p,e,V)||[],R(t,void 0===s?t:s,i,!1,n)},V.getVal=V._getVal=function(e){var t=V._hasValue||e?V[e?"_tempValue":"_value"]:null;return we(t)?+t:t},V.setArrayVal=V.setVal,V.getArrayVal=function(e){return e?V._tempWheelArray:V._wheelArray},V.changeWheel=function(e,t,s){var n,i,a;Te.each(e,function(e,t){(a=r[e])&&(n=a._nr,i=W(t,n,!0),V._isVisible&&(b&&i._$3d.html(Y(i,n,i._first+D-h+1,i._last-D+h,!0)),i._$scroller.html(Y(i,n,i._first,i._last)).css("margin-top",i._margin+"px"),i._refresh(v)))}),!V._isVisible||V._isLiquid||v||V.position(),v||$(t,void 0,void 0,s)},V.getValidValue=I,V._generateContent=function(){var n,i=0,a="",r=b?he+"transform: translateZ("+(_*C.rows/2+3)+"px);":"",o='<div class="mbsc-sc-whl-l" style="'+r+"height:"+_+"px;margin-top:-"+(_/2+(C.selectedLineBorder||0))+'px;"></div>',l=0;return Te.each(C.wheels,function(e,t){a+='<div class="mbsc-w-p mbsc-sc-whl-gr-c'+(b?" mbsc-sc-whl-gr-3d-c":"")+(C.showLabel?" mbsc-sc-lbl-v":"")+'">'+o+'<div class="mbsc-sc-whl-gr'+(b?" mbsc-sc-whl-gr-3d":"")+(c?" mbsc-sc-cp":"")+(C.width||C.maxWidth?'"':'" style="max-width:'+C.maxPopupWidth+'px;"')+">",Te.each(t,function(e,t){V._tempSelected[l]=le({},V._selected[l]);var s=W(t,l);M[l]=s,i+=C.maxWidth?C.maxWidth[l]||C.maxWidth:C.width?C.width[l]||C.width:0,n=void 0!==s.label?s.label:e,a+='<div class="mbsc-sc-whl-w '+(s.cssClass||"")+(s.multiple?" mbsc-sc-whl-multi":"")+'" style="'+(C.width?"width:"+(C.width[l]||C.width)+"px;":(C.minWidth?"min-width:"+(C.minWidth[l]||C.minWidth)+"px;":"")+(C.maxWidth?"max-width:"+(C.maxWidth[l]||C.maxWidth)+"px;":""))+'">'+(d?'<div class="mbsc-sc-bar-c"><div class="mbsc-sc-bar"></div></div>':"")+'<div class="mbsc-sc-whl-o" style="'+r+'"></div>'+o+'<div aria-live="off" aria-label="'+n+'"'+(s.multiple?' aria-multiselectable="true"':"")+' role="listbox" data-index="'+l+'" class="mbsc-sc-whl" style="height:'+C.rows*_*(b?1.1:1)+'px;">'+(c?'<div data-index="'+l+'" data-step="1" class="mbsc-sc-btn mbsc-sc-btn-plus '+(C.btnPlusClass||"")+'"></div><div data-index="'+l+'" data-step="-1" class="mbsc-sc-btn mbsc-sc-btn-minus '+(C.btnMinusClass||"")+'"></div>':"")+'<div class="mbsc-sc-lbl">'+n+'</div><div class="mbsc-sc-whl-c" style="height:'+u+"px;margin-top:-"+(u/2+1)+"px;"+r+'"><div class="mbsc-sc-whl-sc" style="top:'+(u-_)/2+'px;">',a+=Y(s,l,s._first,s._last)+"</div></div>",b&&(a+='<div class="mbsc-sc-whl-3d" style="height:'+_+"px;margin-top:-"+_/2+'px;">',a+=Y(s,l,s._first+D-h+1,s._last-D+h,!0),a+="</div>"),a+="</div></div>",l++}),a+="</div></div>"}),i&&(C.maxPopupWidth=i),a},V._attachEvents=function(e){function s(e){var t;h=Te(e.currentTarget),y=+h.attr("data-step"),f=+h.attr("data-index"),m=!0,u&&e.stopPropagation(),"touchstart"==e.type&&h.closest(".mbsc-no-touch").removeClass("mbsc-no-touch"),"mousedown"==e.type&&e.preventDefault(),t="keydown"!=e.type?(v=Ce(e,"X"),g=Ce(e,"Y"),be(e,this)):32===e.keyCode,p||!t||h.hasClass("mbsc-disabled")||(a(f,y,e)&&(h.addClass("mbsc-active"),d&&d.addRipple(h.find(".mbsc-segmented-content"),e)),"mousedown"==e.type&&Te(document).on("mousemove",n).on("mouseup",i))}function n(e){(7<Math.abs(v-Ce(e,"X"))||7<Math.abs(g-Ce(e,"Y")))&&(m=!0,t())}function i(e){"touchend"==e.type&&e.preventDefault(),t(),"mouseup"==e.type&&Te(document).off("mousemove",n).off("mouseup",i)}function t(){p=!1,clearInterval(w),h&&(h.removeClass("mbsc-active"),d&&setTimeout(function(){d.removeRipple()},100))}function a(e,t,s){return p||_(e)||(f=e,y=t,b=s,m=!(p=!0),setTimeout(r,100)),p}function r(){h&&h.hasClass("mbsc-disabled")?t():(!p&&m||(m=!0,l(f,y,b,r)),p&&c&&(clearInterval(w),w=setInterval(function(){l(f,y,b)},c)))}var o,l,c,u,d,h,m,f,p,b,v,g,y,w,_;o=Te(".mbsc-sc-btn",e),l=N,c=C.delay,u=!0,_=P||ne,o.each(function(e,t){ge(t,"touchstart",s,{passive:!0}),ge(t,"mousedown",s),ge(t,"keydown",s),ge(t,"touchmove",n,{passive:!0}),ge(t,"touchend",i),ge(t,"touchcancel",i),ge(t,"keyup",i)}),x={start:a,stop:t,destroy:function(){o.each(function(e,t){ye(t,"touchstart",s,{passive:!0}),ye(t,"mousedown",s),ye(t,"keydown",s),ye(t,"touchmove",n,{passive:!0}),ye(t,"touchend",i),ye(t,"touchcancel",i),ye(t,"keyup",i)})}},Te(".mbsc-sc-whl",e).on("keydown",A).on("keyup",L)},V._detachEvents=function(){x&&x.stop();for(var e=0;e<M.length;e++)M[e]._scroller.destroy()},V._markupReady=function(e){Te(".mbsc-sc-whl-w",s=e).each(function(u){var i,e=Te(this),d=M[u];d._$markup=e,d._$scroller=Te(".mbsc-sc-whl-sc",this),d._$3d=Te(".mbsc-sc-whl-3d",this),d._scroller=new ee(this,{mousewheel:C.mousewheel,moveElement:d._$scroller,scrollbar:Te(".mbsc-sc-bar-c",this),initialPos:(d._first-d._index)*_,contSize:C.rows*_,snap:_,minScroll:l(d),maxScroll:m(d),maxSnapScroll:D,prevDef:!0,stopProp:!0,timeUnit:3,easing:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",sync:function(e,t,s){var n=t?he+"transform "+Math.round(t)+"ms "+s:"";b&&(d._$3d[0].style[me+"Transition"]=n,d._$3d[0].style[me+"Transform"]="rotateX("+-e/_*g+"deg)")},onStart:function(e,t){t.settings.readonly=P(u)},onGestureStart:function(){e.addClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),T("onWheelGestureStart",{index:u})},onGestureEnd:function(e){var t=90==e.direction?1:2,s=e.duration,n=e.destinationY;i=Math.round(-n/_)+d._offset,F(d,u,i,s,t)},onAnimationStart:function(){e.addClass("mbsc-sc-whl-anim")},onAnimationEnd:function(){e.removeClass("mbsc-sc-whl-a mbsc-sc-whl-anim"),T("onWheelAnimationEnd",{index:u}),d._$3d.find(".mbsc-sc-itm-del").remove()},onMove:function(e){var t,s,n,i,a,r,o,l,c;t=d,s=u,n=e.posY,i=Math.round(-n/_)+t._offset,a=i-t._current,r=t._first,o=t._last,l=r+D-h+1,c=o-D+h,a&&(t._first+=a,t._last+=a,t._current=i,0<a?(t._$scroller.append(Y(t,s,Math.max(o+1,r+a),o+a)),Te(".mbsc-sc-itm",t._$scroller).slice(0,Math.min(a,o-r+1)).remove(),b&&(t._$3d.append(Y(t,s,Math.max(c+1,l+a),c+a,!0)),Te(".mbsc-sc-itm",t._$3d).slice(0,Math.min(a,c-l+1)).attr("class","mbsc-sc-itm-del"))):a<0&&(t._$scroller.prepend(Y(t,s,r+a,Math.min(r-1,o+a))),Te(".mbsc-sc-itm",t._$scroller).slice(Math.max(a,r-o-1)).remove(),b&&(t._$3d.prepend(Y(t,s,l+a,Math.min(l-1,c+a),!0)),Te(".mbsc-sc-itm",t._$3d).slice(Math.max(a,l-c-1)).attr("class","mbsc-sc-itm-del"))),t._margin+=a*_,t._$scroller.css("margin-top",t._margin+"px"))},onBtnTap:function(e){a(u,Te(e.target))}})}),$()},V._fillValue=function(){R(V._hasValue=!0,!0,0,!0)},V._clearValue=function(){Te(".mbsc-sc-whl-multi .mbsc-sc-itm-sel",s).removeClass(y).removeAttr("aria-selected")},V._readValue=function(){var e=o.val()||"",s=0;""!==e&&(V._hasValue=!0),V._tempWheelArray=w=V._hasValue&&V._wheelArray?V._wheelArray.slice(0):C.parseValue.call(p,e,V)||[],V._tempSelected=le(!0,{},V._selected),Te.each(C.wheels,function(e,t){Te.each(t,function(e,t){M[s]=W(t,s),s++})}),R(!1,!1,0,!0),T("onRead")},V.__processSettings=function(e){C=V.settings,T=V.trigger,k=C.multiline,y="mbsc-sc-itm-sel mbsc-ic mbsc-ic-"+C.checkIcon,(d=!C.touchUi)&&(C.tapSelect=!0,C.circular=!1,C.rows=e.rows||t.rows||7)},V.__init=function(e){e&&(V._wheelArray=null),M=[],r={},c=C.showScrollArrows,b=C.scroll3d&&ze&&!c&&!d&&("ios"==C.theme||"ios"==C.baseTheme),_=C.height,u=b?2*Math.round((_-.03*(_*C.rows/2+3))/2):_,h=Math.round(1.8*C.rows),g=360/(2*h),c&&(C.rows=Math.max(3,C.rows))},V._getItemValue=H,V._tempSelected={},V._selected={},e||V.init()}Ue.prototype={_hasDef:!0,_hasTheme:!0,_hasLang:!0,_responsive:!0,_class:"scroller",_presets:te,_defaults:le({},J.prototype._defaults,{minWidth:80,height:40,rows:3,multiline:1,delay:200,readonly:!1,showLabel:!0,setOnTap:!1,wheels:[],preset:"",speedUnit:.0012,timeUnit:.08,checkIcon:"checkmark",compClass:"mbsc-sc",validate:function(){},formatValue:function(e){return e.join(" ")},parseValue:function(e,s){var n,i,a=[],r=[],o=0;return null!=e&&(a=(e+"").split(" ")),Te.each(s.settings.wheels,function(e,t){Te.each(t,function(e,t){i=t.data,n=s._getItemValue(i[0]),Te.each(i,function(e,t){if(a[o]==s._getItemValue(t))return n=s._getItemValue(t),!1}),r.push(n),o++})}),r}})},z.Scroller=Ue;function je(g){function e(e){var t,s,n,i,a=[];if(e){for(t=0;t<e.length;t++)if((s=e[t]).start&&s.end&&!Se.test(s.start))for(n=new Date(De(s.start,D,H)),i=new Date(De(s.end,D,H));n<=i;)a.push(ce(n.getFullYear(),n.getMonth(),n.getDate())),n.setDate(n.getDate()+1);else a.push(s);return a}return e}function L(e,t,s,n){return Math.min(n,Math.floor(e/t)*t+s)}function t(e,t,s){return Math.floor((s-t)/e)*e+t}function a(e){return e.getFullYear()+"-"+re(e.getMonth()+1)+"-"+re(e.getDate())}function o(e,t,s,n){var i;return void 0===k[t]||(i=+e[k[t]],isNaN(i))?s?ie[t](s):void 0!==r[t]?r[t]:ie[t](n):i}function y(e){var t,s=new Date((new Date).setHours(0,0,0,0));if(null===e)return e;void 0!==k.dd&&(t=e[k.dd].split("-"),t=new Date(t[0],t[1]-1,t[2])),void 0!==k.tt&&(t=t||s,t=new Date(t.getTime()+e[k.tt]%86400*1e3));var n=o(e,"y",t,s),i=o(e,"m",t,s),a=Math.min(o(e,"d",t,s),H.getMaxDayOfMonth(n,i)),r=o(e,"h",t,s);return H.getDate(n,i,a,R&&o(e,"a",t,s)?r+12:r,o(e,"i",t,s),o(e,"s",t,s),o(e,"u",t,s))}function w(e,t){var s,n,i=["y","m","d","a","h","i","s","u","dd","tt"],a=[];if(null==e)return e;for(s=0;s<i.length;s++)void 0!==k[n=i[s]]&&(a[k[n]]=ie[n](e)),t&&(r[n]=ie[n](e));return a}function s(e,t){return t?Math.floor(new Date(e)/864e5):e.getMonth()+12*(e.getFullYear()-1970)}function h(e){return{value:e,display:(/yy/i.test(A)?e:(e+"").substr(2,2))+(H.yearSuffix||"")}}function m(e){return e}function f(n){var i=/d/i.test(n);return{label:"",cssClass:"mbsc-dt-whl-date",min:I?s(a(I),i):void 0,max:$?s(a($),i):void 0,data:function(e){var t=new Date((new Date).setHours(0,0,0,0)),s=i?new Date(864e5*e):new Date(1970,e,1);return i&&(s=new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate())),{invalid:i&&!x(s,!0),value:a(s),display:t.getTime()==s.getTime()?H.todayText:ue(n,s,H)}},getIndex:function(e){return s(e,i)}}}function p(e){var t,s,n,i=[];for(/s/i.test(e)?s=j:/i/i.test(e)?s=60*U:/h/i.test(e)&&(s=3600*B),O=ne.tt=s,t=0;t<86400;t+=s)n=new Date((new Date).setHours(0,0,0,0)+1e3*t),i.push({value:t,display:ue(e,n,H)});return{label:"",cssClass:"mbsc-dt-whl-time",data:i}}function _(e,t){return H.getYear(e)===H.getYear(t)&&H.getMonth(e)===H.getMonth(t)}function x(e,t){return!(!t&&e<I)&&(!(!t&&$<e)&&(!!n(e,Y)||!n(e,W)))}function n(e,t){var s,n,i,a;if(t)for(n=0;n<t.length;n++)if(i=(a=(s=t[n]).d||s)+"",!s.start)if(Ae.test(i)){if((i=+i.replace("w",""))==e.getDay())return!0}else if(Ve.test(i)){if((i=i.split("/"))[1]){if(i[0]-1==e.getMonth()&&i[1]==e.getDate())return!0}else if(i[0]==e.getDate())return!0}else if(s=De(a,D,H),e.getFullYear()==s.getFullYear()&&e.getMonth()==s.getMonth()&&e.getDate()==s.getDate())return!0;return!1}function C(e,t,s,n,i,a,r){var o,l,c,u,d;if(e)for(c=0;c<e.length;c++)if(d=(l=(o=e[c]).d||o)+"",!o.start)if(Ae.test(d))for(u=(d=+d.replace("w",""))-n;u<i;u+=7)0<=u&&(a[u+1]=r);else Ve.test(d)?(d=d.split("/"))[1]?d[0]-1==s&&(a[d[1]]=r):a[d[0]]=r:(o=De(l,D,H),H.getYear(o)==t&&H.getMonth(o)==s&&(a[H.getDay(o)]=r))}function T(e,t,s,n,i,a,r,o){var l,c,u,d,h,m,f,p,b,v,g,y,w,_,x,C,T,k,M,D,S={},V=H.getDate(n,i,a),A=["a","h","i","s"];if(e){for(f=0;f<e.length;f++)(g=e[f]).start&&(g.apply=!1,k=(T=(u=g.d)+"").split("/"),u&&(u.getTime&&n==H.getYear(u)&&i==H.getMonth(u)&&a==H.getDay(u)||!Ae.test(T)&&(k[1]&&a==k[1]&&i==k[0]-1||!k[1]&&a==k[0])||Ae.test(T)&&V.getDay()==+T.replace("w",""))&&(g.apply=!0,S[V]=!0));for(f=0;f<e.length;f++)if(g=e[f],C=l=0,p=te[s],b=se[s],c=!(x=_=!0),g.start&&(g.apply||!g.d&&!S[V])){for(y=g.start.split(":"),w=g.end.split(":"),v=0;v<3;v++)void 0===y[v]&&(y[v]=0),void 0===w[v]&&(w[v]=59),y[v]=+y[v],w[v]=+w[v];if("tt"==s)p=L(Math.round((new Date(V).setHours(y[0],y[1],y[2])-new Date(V).setHours(0,0,0,0))/1e3),O,0,86400),b=L(Math.round((new Date(V).setHours(w[0],w[1],w[2])-new Date(V).setHours(0,0,0,0))/1e3),O,0,86400);else{for(y.unshift(11<y[0]?1:0),w.unshift(11<w[0]?1:0),R&&(12<=y[1]&&(y[1]=y[1]-12),12<=w[1]&&(w[1]=w[1]-12)),v=0;v<t;v++)void 0!==E[v]&&(M=L(y[v],ne[A[v]],te[A[v]],se[A[v]]),D=L(w[v],ne[A[v]],te[A[v]],se[A[v]]),m=h=d=0,R&&1==v&&(d=y[0]?12:0,h=w[0]?12:0,m=E[0]?12:0),_||(M=0),x||(D=se[A[v]]),(_||x)&&M+d<E[v]+m&&E[v]+m<D+h&&(c=!0),E[v]!=M&&(_=!1),E[v]!=D&&(x=!1));if(!o)for(v=t+1;v<4;v++)0<y[v]&&(l=ne[s]),w[v]<se[A[v]]&&(C=ne[s]);c||(M=L(y[t],ne[s],te[s],se[s])+l,D=L(w[t],ne[s],te[s],se[s])-C,_&&(p=M),x&&(b=D))}if(_||x||c)for(v=p;v<=b;v+=ne[s])r[v]=!o}}}var O,b,i,k={},r={},v={},E=[],l=function(e){var t,s,n,i={};if(e.is("input")){switch(e.attr("type")){case"date":t="yy-mm-dd";break;case"datetime":t="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":t="yy-mm-ddTHH:ii:ss";break;case"month":t="yy-mm",i.dateOrder="mmyy";break;case"time":t="HH:ii:ss"}i.format=t,s=e.attr("min"),n=e.attr("max"),s&&"undefined"!=s&&(i.min=de(t,s)),n&&"undefined"!=n&&(i.max=de(t,n))}return i}(Te(this)),c=le({},g.settings),u=ae[c.calendarSystem],H=le(g.settings,Le,u,qe,l,c),M=H.preset,d="datetime"==M?H.dateFormat+H.separator+H.timeFormat:"time"==M?H.timeFormat:H.dateFormat,D=l.format||d,S=H.dateWheels||H.dateFormat,V=H.timeWheels||H.timeFormat,A=H.dateWheels||H.dateDisplay,N=V,P=H.baseTheme||H.theme,W=e(H.invalid),Y=e(H.valid),I=De(H.min,D,H),$=De(H.max,D,H),F=/time/i.test(M),R=/h/.test(N),X=/D/.test(A),z=H.steps||{},B=z.hour||H.stepHour||1,U=z.minute||H.stepMinute||1,j=z.second||H.stepSecond||1,q=z.zeroBased,Z=q||!I?0:I.getHours()%B,G=q||!I?0:I.getMinutes()%U,J=q||!I?0:I.getSeconds()%j,K=t(B,Z,R?11:23),Q=t(U,G,59),ee=t(U,G,59),te={y:I?I.getFullYear():-1/0,m:0,d:1,h:Z,i:G,s:J,a:0,tt:0},se={y:$?$.getFullYear():1/0,m:11,d:31,h:K,i:Q,s:ee,a:1,tt:86400},ne={y:1,m:1,d:1,h:B,i:U,s:j,a:1,tt:1},ie={y:function(e){return H.getYear(e)},m:function(e){return H.getMonth(e)},d:function(e){return H.getDay(e)},h:function(e){var t=e.getHours();return L(t=R&&12<=t?t-12:t,B,Z,K)},i:function(e){return L(e.getMinutes(),U,G,Q)},s:function(e){return L(e.getSeconds(),j,J,ee)},u:function(e){return e.getMilliseconds()},a:function(e){return 11<e.getHours()?1:0},dd:a,tt:function(e){return L(Math.round((e.getTime()-new Date(e).setHours(0,0,0,0))/1e3),O||1,0,86400)}};return g.getVal=function(e){return g._hasValue||e?Me(y(g.getArrayVal(e)),H,D):null},g.getDate=function(e){return g._hasValue||e?y(g.getArrayVal(e)):null},g.setDate=function(e,t,s,n,i){g.setArrayVal(w(e,!0),t,i,n,s)},i=function(){var e,t,s,n,i,a,r,o,l=0,c=[],u=[],d=[];if(/date/i.test(M)){for(e=S.split(/\|/.test(S)?"|":""),n=0;n<e.length;n++)if(a=0,(s=e[n]).length)if(/y/i.test(s)&&(v.y=1,a++),/m/i.test(s)&&(v.y=1,v.m=1,a++),/d/i.test(s)&&(v.y=1,v.m=1,v.d=1,a++),1<a&&void 0===k.dd)k.dd=l,l++,u.push(f(s)),d=u,b=!0;else if(/y/i.test(s)&&void 0===k.y)k.y=l,l++,u.push({cssClass:"mbsc-dt-whl-y",label:H.yearText,min:I?H.getYear(I):void 0,max:$?H.getYear($):void 0,data:h,getIndex:m});else if(/m/i.test(s)&&void 0===k.m){for(k.m=l,r=[],l++,i=0;i<12;i++)o=A.replace(/[dy|]/gi,"").replace(/mm/,re(i+1)+(H.monthSuffix||"")).replace(/m/,i+1+(H.monthSuffix||"")),r.push({value:i,display:/MM/.test(o)?o.replace(/MM/,'<span class="mbsc-dt-month">'+H.monthNames[i]+"</span>"):o.replace(/M/,'<span class="mbsc-dt-month">'+H.monthNamesShort[i]+"</span>")});u.push({cssClass:"mbsc-dt-whl-m",label:H.monthText,data:r})}else if(/d/i.test(s)&&void 0===k.d){for(k.d=l,r=[],l++,i=1;i<32;i++)r.push({value:i,display:(/dd/i.test(A)?re(i):i)+(H.daySuffix||"")});u.push({cssClass:"mbsc-dt-whl-d",label:H.dayText,data:r})}c.push(u)}if(/time/i.test(M)){for(t=V.split(/\|/.test(V)?"|":""),n=0;n<t.length;n++)if(a=0,(s=t[n]).length&&(/h/i.test(s)&&(v.h=1,a++),/i/i.test(s)&&(v.i=1,a++),/s/i.test(s)&&(v.s=1,a++),/a/i.test(s)&&a++),1<a&&void 0===k.tt)k.tt=l,l++,d.push(p(s));else if(/h/i.test(s)&&void 0===k.h){for(r=[],k.h=l,v.h=1,l++,i=Z;i<(R?12:24);i+=B)r.push({value:i,display:R&&0===i?12:/hh/i.test(N)?re(i):i});d.push({cssClass:"mbsc-dt-whl-h",label:H.hourText,data:r})}else if(/i/i.test(s)&&void 0===k.i){for(r=[],k.i=l,v.i=1,l++,i=G;i<60;i+=U)r.push({value:i,display:/ii/i.test(N)?re(i):i});d.push({cssClass:"mbsc-dt-whl-i",label:H.minuteText,data:r})}else if(/s/i.test(s)&&void 0===k.s){for(r=[],k.s=l,v.s=1,l++,i=J;i<60;i+=j)r.push({value:i,display:/ss/i.test(N)?re(i):i});d.push({cssClass:"mbsc-dt-whl-s",label:H.secText,data:r})}else/a/i.test(s)&&void 0===k.a&&(k.a=l,l++,d.push({cssClass:"mbsc-dt-whl-a",label:H.ampmText,data:/A/.test(s)?[{value:0,display:H.amText.toUpperCase()},{value:1,display:H.pmText.toUpperCase()}]:[{value:0,display:H.amText},{value:1,display:H.pmText}]}));d!=u&&c.push(d)}return c}(),H.isoParts=v,g._format=d,g._order=k,g.handlers.now=function(){g.setDate(new Date,g.live,1e3,!0,!0)},g.buttons.now={text:H.nowText,icon:H.nowIcon,handler:"now"},{minWidth:b&&F?{bootstrap:46,ios:50,material:46,mobiscroll:46,windows:50}[P]:void 0,compClass:"mbsc-dt mbsc-sc",wheels:i,headerText:!!H.headerText&&function(){return ue(d,y(g.getArrayVal(!0)),H)},formatValue:function(e){return ue(D,y(e),H)},parseValue:function(e){return e||(r={},g._hasValue=!1),w(De(e||H.defaultValue||new Date,D,H,v),!!e)},validate:function(e){var t,o,s,n,i=e.values,a=e.index,r=e.direction,l=H.wheels[0][k.d],c=function(e,t){var s,n,i=!1,a=!1,r=0,o=0,l=I?y(w(I)):-1/0,c=$?y(w($)):1/0;if(x(e))return e;if(e<l&&(e=l),c<e&&(e=c),n=s=e,2!==t)for(i=x(s,!0);!i&&s<c&&r<100;)i=x(s=new Date(s.getTime()+864e5),!0),r++;if(1!==t)for(a=x(n,!0);!a&&l<n&&o<100;)a=x(n=new Date(n.getTime()-864e5),!0),o++;return 1===t&&i?s:2===t&&a?n:_(e,s)?s:_(e,n)?n:o<=r&&a?n:s}(y(i),r),u=w(c),d=[],h={},m=ie.y(c),f=ie.m(c),p=H.getMaxDayOfMonth(m,f),b=!0,v=!0;if(Te.each(["dd","y","m","d","tt","a","h","i","s"],function(e,s){var t=te[s],n=se[s],i=ie[s](c);if(d[k[s]]=[],b&&I&&(t=ie[s](I)),v&&$&&(n=ie[s]($)),i<t&&(i=t),n<i&&(i=n),"dd"!==s&&"tt"!==s&&(b=b&&i==t,v=v&&i==n),void 0!==k[s]){if("y"!=s&&"dd"!=s)for(o=te[s];o<=se[s];o+=ne[s])(o<t||n<o)&&d[k[s]].push(o);if("d"==s){var a=H.getDate(m,f,1).getDay(),r={};C(W,m,f,a,p,r,1),C(Y,m,f,a,p,r,0),Te.each(r,function(e,t){t&&d[k[s]].push(e)})}}}),F&&Te.each(["a","h","i","s","tt"],function(e,s){var t=ie[s](c),n=ie.d(c),i={};void 0!==k[s]&&(T(W,e,s,m,f,n,i,0),T(Y,e,s,m,f,n,i,1),Te.each(i,function(e,t){t&&d[k[s]].push(e)}),E[e]=g.getValidValue(k[s],t,r,i))}),l&&(l.data.length!==p||X&&(void 0===a||a===k.y||a===k.m))){for((h[k.d]=l).data=[],t=1;t<=p;t++)n=H.getDate(m,f,t).getDay(),s=A.replace(/[my|]/gi,"").replace(/dd/,(t<10?"0"+t:t)+(H.daySuffix||"")).replace(/d/,t+(H.daySuffix||"")),l.data.push({value:t,display:/DD/.test(s)?s.replace(/DD/,'<span class="mbsc-dt-day">'+H.dayNames[n]+"</span>"):s.replace(/D/,'<span class="mbsc-dt-day">'+H.dayNamesShort[n]+"</span>")});g._tempWheelArray[k.d]=u[k.d],g.changeWheel(h)}return{disabled:d,valid:u}}}}var qe={separator:" ",dateFormat:"mm/dd/yy",dateDisplay:"MMddyy",timeFormat:"h:ii A",dayText:"Day",monthText:"Month",yearText:"Year",hourText:"Hours",minuteText:"Minutes",ampmText:"&nbsp;",secText:"Seconds",nowText:"Now",todayText:"Today"};te.date=je,te.time=je,te.datetime=je,P("date",Ue),P("time",Ue),P("datetime",Ue);var Ze=_.themes;Ze.frame.ios={display:"bottom",headerText:!1,btnWidth:!1,deleteIcon:"ios-backspace",scroll3d:"wp"!=e&&("android"!=e||7<s)},Ze.scroller.ios=le({},Ze.frame.ios,{rows:5,height:34,minWidth:55,selectedLineHeight:!0,selectedLineBorder:1,showLabel:!1,useShortLabels:!0,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"ion-ios7-checkmark-empty",filterClearIcon:"ion-close-circled",dateDisplay:"MMdyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5"}),Ze.listview.ios={leftArrowClass:"mbsc-ic-ion-ios7-arrow-back",rightArrowClass:"mbsc-ic-ion-ios7-arrow-forward"},Ze.form.ios={};var Ge=_.themes;function Je(e,t){var s=Ce(t,"X",!0),n=Ce(t,"Y",!0),i=e[0],a=e.offset(),r=s-a.left,o=n-a.top,l=Math.max(r,i.offsetWidth-r),c=Math.max(o,i.offsetHeight-o),u=2*Math.sqrt(Math.pow(l,2)+Math.pow(c,2));Ke(tt),tt=Te('<span class="mbsc-ripple"></span>').css({backgroundColor:getComputedStyle(i).color,width:u,height:u,top:n-a.top-u/2,left:s-a.left-u/2}).appendTo(e),setTimeout(function(){tt.addClass("mbsc-ripple-scaled mbsc-ripple-visible")},10)}function Ke(e){setTimeout(function(){e&&(e.removeClass("mbsc-ripple-visible"),setTimeout(function(){e.remove()},2e3))},100)}function Qe(e,s,n,i){var a,r,o=e[0];function t(e){var t=x(o,e.target,s);t&&be(e,t)&&(a=Ce(e,"X"),r=Ce(e,"Y"),(et=Te(t)).hasClass(n)||et.hasClass(i)?et=null:Je(et,e))}function l(e){(et&&9<Math.abs(Ce(e,"X")-a)||9<Math.abs(Ce(e,"Y")-r))&&(Ke(tt),et=null)}function c(){et&&(setTimeout(function(){Ke(tt)},100),et=null)}o&&(o.__mbscRippleOff&&o.__mbscRippleOff(),ge(o,"touchstart",t,{passive:!0}),ge(o,"mousedown",t),ge(o,"touchmove",l,{passive:!0}),ge(o,"mousemove",l),ge(o,"touchend",c),ge(o,"touchcancel",c),ge(o,"mouseleave",c),ge(o,"mouseup",c),o.__mbscRippleOff=function(){ye(o,"touchstart",t,{passive:!0}),ye(o,"mousedown",t),ye(o,"touchmove",l,{passive:!0}),ye(o,"mousemove",l),ye(o,"touchend",c),ye(o,"touchcancel",c),ye(o,"mouseleave",c),ye(o,"mouseup",c),delete o.__mbscRippleOff})}Ge.frame.bootstrap={disabledClass:"disabled",selectedClass:"btn-primary",selectedTabClass:"active",tabLink:!0,todayClass:"text-primary mbsc-cal-today",onMarkupInserted:function(e){var t=Te(e.target),s=Te(".mbsc-cal-tabs",t);Te(".mbsc-fr-popup",t).addClass("popover"),Te(".mbsc-fr-w",t).addClass("popover-content"),Te(".mbsc-fr-hdr",t).addClass("popover-title popover-header"),Te(".mbsc-fr-arr-i",t).addClass("popover"),Te(".mbsc-fr-arr",t).addClass("arrow"),Te(".mbsc-fr-btn",t).addClass("btn btn-default btn-secondary"),Te(".mbsc-fr-btn-s .mbsc-fr-btn",t).removeClass("btn-default btn-secondary").addClass("btn btn-primary"),s.addClass("nav nav-tabs"),s.find(".mbsc-cal-tab").addClass("nav-item"),s.find("a").addClass("nav-link"),s.find(".mbsc-cal-tab.active .nav-link").addClass("active"),Te(".mbsc-cal-picker",t).addClass("popover"),Te(".mbsc-range-btn",t).addClass("btn btn-sm btn-small btn-default"),Te(".mbsc-np-btn",t).addClass("btn btn-default"),Te(".mbsc-sel-filter-cont",t).removeClass("mbsc-input"),Te(".mbsc-sel-filter-input",t).addClass("form-control")},onTabChange:function(e,t){Te(".mbsc-cal-tabs .nav-link",t._markup).removeClass("active"),Te(".mbsc-cal-tab.active .nav-link",t._markup).addClass("active")},onPosition:function(e){setTimeout(function(){Te(".mbsc-fr-bubble-top, .mbsc-fr-bubble-top .mbsc-fr-arr-i",e.target).removeClass("bottom bs-popover-bottom").addClass("top bs-popover-top"),Te(".mbsc-fr-bubble-bottom, .mbsc-fr-bubble-bottom .mbsc-fr-arr-i",e.target).removeClass("top bs-popover-top").addClass("bottom  bs-popover-bottom")},10)}},Ge.scroller.bootstrap=le({},Ge.frame.bootstrap,{dateDisplay:"Mddyy",btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5",btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5 btn-light",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5 btn-light",selectedLineHeight:!0,onEventBubbleShow:function(e){var t=Te(e.eventList);Te(".mbsc-cal-event-list",t).addClass("list-group"),Te(".mbsc-cal-event",t).addClass("list-group-item")}}),Ge.navigation.bootstrap={wrapperClass:"popover panel panel-default",groupClass:"btn-group",activeClass:"btn-primary",disabledClass:"disabled",itemClass:"btn btn-default"},Ge.form.bootstrap={},_.customTheme("mobiscroll-dark","mobiscroll");var et,tt,st=_.themes;st.frame.material={headerText:!1,btnWidth:!1,deleteIcon:"material-backspace",onMarkupReady:function(e){Qe(Te(e.target),".mbsc-fr-btn-e","mbsc-disabled","mbsc-fr-btn-nhl")}},st.scroller.material=le({},st.frame.material,{showLabel:!1,selectedLineBorder:2,weekDays:"min",icon:{filled:"material-star",empty:"material-star-outline"},checkIcon:"material-check",btnPlusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-down",btnMinusClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-up",btnCalPrevClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-left",btnCalNextClass:"mbsc-ic mbsc-ic-material-keyboard-arrow-right"}),st.listview.material={leftArrowClass:"mbsc-ic-material-keyboard-arrow-left",rightArrowClass:"mbsc-ic-material-keyboard-arrow-right",onItemActivate:function(e){Je(Te(e.target),e.domEvent)},onItemDeactivate:function(){Ke(tt)},onSlideStart:function(e){Te(".mbsc-ripple",e.target).remove()},onSortStart:function(e){Te(".mbsc-ripple",e.target).remove()}},st.navigation.material={onInit:function(){Qe(Te(this),".mbsc-ms-item.mbsc-btn-e","mbsc-disabled","mbsc-btn-nhl")},onMarkupInit:function(){Te(".mbsc-ripple",this).remove()},onDestroy:function(){this.__mbscRippleOff&&this.__mbscRippleOff()}},st.form.material={addRipple:function(e,t){Je(e,t)},removeRipple:function(){Ke(tt)}},_.customTheme("material-dark","material"),_.customTheme("ios-dark","ios");var nt=_.themes;nt.frame.windows={headerText:!1,deleteIcon:"backspace4",btnReverse:!0},nt.scroller.windows=le({},nt.frame.windows,{rows:6,minWidth:88,height:44,btnPlusClass:"mbsc-ic mbsc-ic-arrow-down5",btnMinusClass:"mbsc-ic mbsc-ic-arrow-up5",checkIcon:"material-check",dateDisplay:"MMdyy",showLabel:!1,showScrollArrows:!0,btnCalPrevClass:"mbsc-ic mbsc-ic-arrow-left5",btnCalNextClass:"mbsc-ic mbsc-ic-arrow-right5",dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],useShortLabels:!0}),nt.form.windows={},_.customTheme("windows-dark","windows");var it=_.themes,at="mobiscroll";return"android"==e?at="material":"ios"==e?at="ios":"wp"==e&&(at="windows"),Te.each(it.frame,function(e,t){if(at&&t.baseTheme==at&&e!=at+"-dark")return _.autoTheme=e,!1;e==at&&(_.autoTheme=e)}),_});
